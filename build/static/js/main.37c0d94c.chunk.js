(this["webpackJsonpreact-boilerplate"]=this["webpackJsonpreact-boilerplate"]||[]).push([[0],{215:function(e,t,a){},223:function(e){e.exports=JSON.parse('{"learnReact":"Learn React"}')},224:function(e){e.exports=JSON.parse('{"learnReact":"H\u1ecdc React"}')},263:function(e,t,a){e.exports=a(437)},271:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"actionTypes",(function(){return de})),a.d(n,"login",(function(){return pe})),a.d(n,"loginSuccess",(function(){return ge})),a.d(n,"loginFailure",(function(){return he})),a.d(n,"verifyToken",(function(){return Ee})),a.d(n,"verifyTokenSuccess",(function(){return be})),a.d(n,"verifyTokenFailure",(function(){return fe})),a.d(n,"logout",(function(){return ve})),a.d(n,"updateUser",(function(){return ye}));var r={};a.r(r),a.d(r,"login",(function(){return Xe})),a.d(r,"loginByGoogle",(function(){return Ze})),a.d(r,"loginByFacebook",(function(){return $e})),a.d(r,"register",(function(){return et})),a.d(r,"verify",(function(){return tt})),a.d(r,"deleteUser",(function(){return at}));var l={};a.r(l),a.d(l,"updateUser",(function(){return nt})),a.d(l,"changePassword",(function(){return rt}));var o={};a.r(o),a.d(o,"getGroupQuestions",(function(){return lt})),a.d(o,"createGroupQuestion",(function(){return ot})),a.d(o,"updateGroupQuestions",(function(){return it})),a.d(o,"deleteGroupQuestions",(function(){return ct}));var i={};a.r(i),a.d(i,"getQuestionsInGroup",(function(){return st})),a.d(i,"getQuestion",(function(){return ut})),a.d(i,"createQuestion",(function(){return mt})),a.d(i,"updateQuestion",(function(){return dt})),a.d(i,"deleteQuestion",(function(){return pt}));var c={};a.r(c),a.d(c,"getContests",(function(){return ht})),a.d(c,"getContestsJoined",(function(){return Et})),a.d(c,"getContestsByUser",(function(){return bt})),a.d(c,"getContest",(function(){return ft})),a.d(c,"createContest",(function(){return vt})),a.d(c,"updateContest",(function(){return yt})),a.d(c,"deleteContest",(function(){return wt})),a.d(c,"verifyPassword",(function(){return xt})),a.d(c,"getQuestions",(function(){return kt})),a.d(c,"mark",(function(){return Ot})),a.d(c,"getResultByContest",(function(){return Ct})),a.d(c,"getResultDetailByContest",(function(){return St})),a.d(c,"getResultByUserInContest",(function(){return jt})),a.d(c,"checkAccountRole",(function(){return Tt}));var s={};a.r(s),a.d(s,"uploadFile",(function(){return Pt})),a.d(s,"uploadAvatar",(function(){return It}));var u=a(0),m=a.n(u),d=a(18),p=a.n(d),g=a(26),h=a(121),E=a.n(h),b=(a(271),a(21)),f=a(530),v=a(238),y=a(136),w=a(474),x=a(135);var k=Object(v.a)({palette:{primary:y.a,secondary:w.a,active:"#eee",boxShadow:"rgba(0, 0, 0, 0.42) 0px 10px 30px -12px, rgba(0, 0, 0, 0.12) 0px 4px 25px 0px, rgba(0, 0, 0, 0.2) 0px 8px 10px -5px",boxShadow_l1:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)",black:x.a[900],greyWhile:"#f5f5f5"},border:{l1:"solid 1px #ccc"},typography:{fontFamily:"Muli"},overrides:{MuiDrawer:{paper:{position:"inherit",overflowY:"inherit"}}},zIndex:{drawer:10},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(159),C=a(107),S=a(222),j=a(223),T=a(224);O.a.use(S.a).use(C.e).init({resources:{en:{translation:j},vi:{translation:T}},fallbackLng:"en",interpolation:{escapeValue:!1},nsSeparator:":::",keySeparator:"::"});O.a;var P=a(44),I=a(37),N=a(507),B="/",D="/login",L="/register",F="/user",A="/groupQuestions",q="/contests",R="/groupQuestions/:id/questions",U="/contest/:id/exam/test",_="/contest/:id/exam/detail",Q="/contest/:id/exam/resultDetail=:idresultDetail";function z(e){let{Component:t,restricted:a,...n}=e;const r=Object(g.d)(e=>e.auth.accessToken);return m.a.createElement(I.c,Object.assign({},n,{render:e=>r?m.a.createElement(I.b,{to:B}):m.a.createElement(t,e)}))}var G=a(2),W=a(479),M=a(480),H=a(440),K=a(243),Y=a(539),V=a(47),J=a(533),X=a(240),Z=a(485),$=a(486),ee=a(488),te=a(484),ae=a(442),ne=a(489),re=a(490),le=a(491),oe=a(475),ie=a(476),ce=a(477),se=a(478),ue=a(481),me=a(487);const de={LOGIN:"LOGIN",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",VERIFY_TOKEN:"VERIFY_TOKEN",VERIFY_TOKEN_SUCCESS:"VERIFY_TOKEN_SUCCESS",VERIFY_TOKEN_FAILURE:"VERIFY_TOKEN_FAILURE",LOGOUT:"LOGOUT",UPDATE_USER:"UPDATE_USER"};function pe(e,t){return{type:de.LOGIN,loginType:e,...t}}function ge(e,t){return{type:de.LOGIN_SUCCESS,accessToken:e,user:t}}function he(e,t){return{type:de.LOGIN_FAILURE,code:e,message:t}}function Ee(e){return{type:de.VERIFY_TOKEN,accessToken:e}}function be(e,t){return{type:de.VERIFY_TOKEN_SUCCESS,accessToken:e,user:t}}function fe(){return{type:de.VERIFY_TOKEN_FAILURE}}function ve(){return{type:de.LOGOUT}}function ye(e){return{type:de.UPDATE_USER,user:e}}var we={auth:n},xe=a(68);var ke=Object(xe.a)(e=>({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",...e.mixins.toolbar},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,textTransform:"uppercase",marginLeft:2},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},link:{textDecoration:"none",color:"#000"},avatar:{marginLeft:e.spacing(1)},listItem:{background:"#eee"}}));function Oe(e,t,a){const n=new Date;n.setTime(n.getTime()+a);const r="expires=".concat(n.toUTCString());document.cookie="".concat(e,"=").concat(t,";").concat(r,";path=/")}function Ce(e){const t="".concat(e,"="),a=document.cookie.split(";");for(let n=0;n<a.length;n+=1){let e=a[n];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""}var Se=a(77),je=a.n(Se);const Te=[{heading:"Trang ch\u1ee7",icon:m.a.createElement(oe.a,null),route:B},{heading:"Qu\u1ea3n l\xfd cu\u1ed9c thi",icon:m.a.createElement(ie.a,null),route:q},{heading:"Qu\u1ea3n l\xfd c\xe2u h\u1ecfi",icon:m.a.createElement(ce.a,null),route:A},{heading:"Th\xf4ng tin t\xe0i kho\u1ea3n",icon:m.a.createElement(se.a,null),route:F}];var Pe=e=>{let{children:t}=e;const a=ke(),[n,r]=Object(u.useState)(!0),l=Object(g.c)(),o=Object(g.d)(e=>e.auth.user),{pathname:i}=Object(I.i)(),[c,s]=m.a.useState(null),d=e=>{s(e.currentTarget)},p=()=>{r(!1)};return Object(u.useEffect)(()=>{(/Android/i.test(navigator.userAgent)||/iPad|Android|tablet/i.test(navigator.userAgent))&&window.innerWidth<769&&(console.log("\u0110\xe2y l\xe0 Android ho\u1eb7c iPad/Tablet v\xe0 m\xe0n h\xecnh nh\u1ecf h\u01a1n 768px"),p())},[]),m.a.createElement("div",{className:a.root},m.a.createElement(W.a,null),m.a.createElement(M.a,{position:"absolute",className:Object(G.a)(a.appBar,n&&a.appBarShift)},m.a.createElement(H.a,{className:a.toolbar},m.a.createElement(K.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:()=>{r(!0)},className:Object(G.a)(a.menuButton,n&&a.menuButtonHidden)},m.a.createElement(ue.a,null)),m.a.createElement(Y.a,{src:"https://res.cloudinary.com/dfbongzx0/image/upload/v1621772719/bfvfvstmneai0d1z0byx.png"}),m.a.createElement(V.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Multichoice"),m.a.createElement(J.a,{display:"flex",alignItems:"center"},m.a.createElement(V.a,{variant:"body2"},o&&o.name),o&&o.avatar?m.a.createElement(Y.a,{alt:"avatar",src:o.avatar,className:a.avatar,onClick:d}):m.a.createElement(Y.a,{"aria-label":"recipe",className:a.avatar,onClick:d},o&&o.name&&o.name[0]||"T")),m.a.createElement(X.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:()=>{s(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m.a.createElement(Z.a,{onClick:()=>{Oe("accessToken"),Oe("accessToken"),je.a.remove("user"),l(we.auth.logout())}},"Logout")))),m.a.createElement($.a,{variant:"permanent",classes:{paper:Object(G.a)(a.drawerPaper,!n&&a.drawerPaperClose)},open:n},m.a.createElement("div",{className:a.toolbarIcon},m.a.createElement(K.a,{onClick:p},m.a.createElement(me.a,null))),m.a.createElement(ee.a,null),m.a.createElement(te.a,null,Te.map((e,t)=>m.a.createElement(P.b,{to:e.route,key:t,className:a.link},m.a.createElement(ae.a,{button:!0,key:t,classes:{root:("/"===e.route&&i===e.route||i.indexOf(e.route)>=0&&"/"!==e.route)&&a.listItem}},m.a.createElement(ne.a,null,e.icon),m.a.createElement(re.a,{primary:e.heading})))))),m.a.createElement("main",{className:a.content},m.a.createElement("div",{className:a.appBarSpacer}),m.a.createElement(le.a,{maxWidth:"lg",className:a.container},t)))};function Ie(e){let{Component:t,...a}=e;const n=Object(g.d)(e=>e.auth.accessToken);return m.a.createElement(Pe,null,m.a.createElement(I.c,Object.assign({},a,{render:e=>n?m.a.createElement(t,e):m.a.createElement(I.b,{to:D})})))}var Ne=a(492),Be=(a(175),a(156)),De=a.n(Be),Le="https://i.imgur.com/FJCFD8D.png",Fe=Object(xe.a)(e=>({root:{height:"100vh"},image:{backgroundImage:"url(".concat(Le,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?"#e1ceaf":e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},divider:{border:"1px solid #ccc",height:"1px",flexGrow:1,margin:e.spacing(1)}})),Ae="LOGIN",qe="LOGIN_GOOGLE",Re="LOGIN_FACEBOOK";function Ue(e){return/^[^0-9][a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[@][a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{2,4}$/.test(String(e).toLowerCase())}function _e(e){return/\.(jpeg|jpg|gif|png|bmp|svg)$/i.test(e)}var Qe=a(139),ze=a(245),Ge=a(445),We=a(493),Me=Object(xe.a)(e=>({root:{height:"100vh"},image:{backgroundImage:"url(".concat(Le,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})),He=a(531),Ke=a(227),Ye=a.n(Ke);const Ve=He.a.create({baseURL:"".concat("https://api.multichoice.site","/api/v1"),responseType:"json",timeout:15e3});Ve.interceptors.request.use(async e=>{const t=Ce("accessToken");return e.headers.Authorization="Bearer ".concat(t),e}),Ve.interceptors.response.use(e=>Ye()(e.data,{deep:!0}),e=>{console.error(e)});var Je=Ve;async function Xe(e,t){return await Je({method:"POST",url:"/auths/login",data:{email:e,password:t}})}async function Ze(e){return await Je({method:"POST",url:"/auths/loginByGoogle",data:{tokenId:e}})}async function $e(e){let{accessToken:t,userID:a}=e;return await Je({method:"POST",url:"/auths/loginByFacebook",data:{accessToken:t,userID:a}})}async function et(e){let{name:t,email:a,password:n}=e;return await Je({method:"POST",url:"/auths/register",data:{name:t,email:a,password:n}})}async function tt(e){return await Je({method:"GET",url:"/auths/verify",headers:{Authorization:"Bearer ".concat(e)}})}async function at(e){return await Je({method:"DELETE",url:"/auths/deleteUser",headers:{Authorization:"Bearer ".concat(e)}})}async function nt(e){return await Je({method:"PUT",url:"/users",data:e})}async function rt(e){return await Je({method:"PUT",url:"/users/changePassword",data:e})}async function lt(e){return await Je({method:"GET",url:"/groupQuestions",params:{key:e}})}async function ot(e){return await Je({method:"POST",url:"/groupQuestions",data:e})}async function it(e,t){return await Je({method:"PUT",url:"/groupQuestions/".concat(e),data:t})}async function ct(e){return await Je({method:"DELETE",url:"/groupQuestions/".concat(e)})}async function st(e){let{key:t,limit:a,offset:n,sort:r,fields:l,groupQuestionId:o}=e;return await Je({method:"POST",url:"/questionsInGroup",data:{key:t,limit:a,offset:n,sort:r,fields:l,groupQuestionId:o}})}async function ut(){return await Je({method:"GET",url:"/questions/:id"})}async function mt(e){return await Je({method:"POST",url:"/questions",data:e})}async function dt(e,t){return await Je({method:"PUT",url:"/questions/".concat(e),data:t})}async function pt(e){return await Je({method:"DELETE",url:"/questions/".concat(e)})}const gt=je.a.get("access_token");async function ht(e){return await Je({method:"GET",url:"/contests",param:{sort:e&&e.sort,fields:e&&e.fields}})}async function Et(e){return await Je({method:"GET",url:"/contests/joined",param:{sort:e&&e.sort,fields:e&&e.fields}})}async function bt(e){return await Je({method:"GET",url:"/contests/createByUser",param:{sort:e&&e.sort,fields:e&&e.fields}})}async function ft(e){return await Je({method:"GET",url:"/contests/".concat(e)})}async function vt(e){return await Je({method:"POST",url:"/contests",data:e})}async function yt(e,t){return await Je({method:"PUT",url:"/contests/".concat(e),data:t})}async function wt(e){return await Je({method:"DELETE",url:"/contests/".concat(e)})}async function xt(e){let{id:t,password:a}=e;return await Je({method:"POST",url:"/contests/".concat(t,"/verifyPassword"),data:{password:a}})}async function kt(e){let{id:t,token:a}=e;return await Je({method:"GET",headers:{"contest-token":a||null},url:"/contests/".concat(t,"/getAllQuestion")})}async function Ot(e){let{doTime:t,contestId:a,groupQuestionId:n,answers:r}=e;return await Je({method:"POST",url:"/contests/".concat(a,"/mark"),data:{doTime:t,groupQuestionId:n,answers:r}})}async function Ct(e){return await Je({method:"GET",url:"/contests/".concat(e,"/results")})}async function St(e){return await Je({method:"GET",url:"/contests/".concat(e,"/results"),headers:{Authorization:"Bearer ".concat(gt)}})}async function jt(e){return await Je({method:"GET",url:"/contests/".concat(e,"/results/user")})}async function Tt(e){let{contestId:t,userId:a}=e;return await Je({method:"GET",url:"/contests/".concat(t,"/role/").concat(a)})}async function Pt(e){let{formData:t}=e;try{return await Je({method:"POST",url:"/uploads/file",data:t,headers:{"Content-Type":"multipart/form-data"}})}catch(a){return a.response}}async function It(e){let{formData:t}=e;try{return await Je({method:"POST",url:"/uploads/avatar",data:t,headers:{"Content-Type":"multipart/form-data"}})}catch(a){return a.response}}var Nt={auth:r,user:l,groupQuestion:o,question:i,contest:c,upload:s};var Bt=e=>{let{isLogin:t,handleLoginOrRegister:a}=e;const n=Me(),r=Object(I.h)(),{enqueueSnackbar:l}=Object(b.b)(),[o,i]=Object(u.useState)({name:"",email:"",password:""}),[c,s]=Object(u.useState)({name:"",email:"",password:""});return m.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12,component:Qe.a,elevation:6,square:!0},m.a.createElement("div",{className:n.paper},m.a.createElement(Y.a,{className:n.avatar},m.a.createElement(We.a,null)),m.a.createElement(V.a,{component:"h1",variant:"h5"},"\u0110\u0103ng k\xed"),m.a.createElement("form",{className:n.form,noValidate:!0},m.a.createElement(ze.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",name:"name",autoComplete:"name",value:o.name,onChange:e=>{s({...c,name:""}),i({...o,name:e.target.value})},error:c.name,helperText:c.name}),m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:o.email,onChange:e=>{s({...c,email:""}),i({...o,email:e.target.value})},error:c.email,helperText:c.email}),m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"current-password",value:o.password,onChange:e=>{s({...c,password:""}),i({...o,password:e.target.value})},error:c.password,helperText:c.password}),m.a.createElement(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:async e=>{if(e.preventDefault(),!(()=>{let e=0;return 0===o.name.length&&(s(e=>({...e,name:"Name is required"})),e++),0===o.email.length?(s(e=>({...e,email:"Email is required"})),e++):Ue(o.email)||(s(e=>({...e,email:"Email invalid"})),e++),0===o.password.length&&(s(e=>({...e,password:"Password is required"})),e++),!(e>0)})())return;const t=await Nt.auth.register({...o});t&&t.status?(l("Register success",{variant:"success"}),r.push("/login"),a()):l(t.message||"Register failed",{variant:"error"})}},"\u0110\u0103ng k\xed"),m.a.createElement(Ne.a,{container:!0,justify:"flex-end"},m.a.createElement(Ne.a,{item:!0},m.a.createElement(Ge.a,{onClick:a}," ","B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"))))))},Dt=a(103);var Lt=e=>{let{isLogin:t,handleLoginOrRegister:a}=e;const n=Fe(),{enqueueSnackbar:r}=Object(b.b)(),[l,o]=Object(u.useState)(""),[i,c]=Object(u.useState)(""),[s,d]=Object(u.useState)(""),[p,h]=Object(u.useState)(""),E=Object(g.c)(),{isLoggingIn:f,message:v}=Object(g.d)(e=>e.auth);Object(u.useEffect)(()=>{f||v&&r(v,{variant:"error"})},[f]);const y=async()=>{(()=>{let e=0;return 0===l.length?(c("Email l\xe0 b\u1eaft bu\u1ed9c"),e++):Ue(l)||(c("Email kh\xf4ng h\u1ee3p l\u1ec7"),e++),0===s.length&&(h("Password l\xe0 b\u1eaft bu\u1ed9c"),e++),!(e>0)})()&&E(we.auth.login(Ae,{email:l,password:s}))},w=e=>{"Enter"===e.key&&y()};return Object(Dt.b)(),m.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12,component:Qe.a,elevation:6,square:!0},m.a.createElement("div",{className:n.paper},m.a.createElement(Y.a,{className:n.avatar},m.a.createElement(We.a,null)),m.a.createElement(V.a,{component:"h1",variant:"h5"},"\u0110\u0103ng nh\u1eadp"),m.a.createElement("form",{className:n.form,noValidate:!0},m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onKeyPress:w,value:l,onChange:e=>{c(""),o(e.target.value)},error:i,helperText:i}),m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"current-password",onKeyPress:w,value:s,onChange:e=>{h(""),d(e.target.value)},error:p,helperText:p}),m.a.createElement(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:e=>{e.preventDefault(),y()}},"\u0110\u0103ng nh\u1eadp"),m.a.createElement(Ne.a,{container:!0,justify:"flex-end"},m.a.createElement(Ne.a,{item:!0},m.a.createElement(Ge.a,{onClick:a},"T\u1ea1o t\xe0i kho\u1ea3n"))),m.a.createElement(J.a,{display:"flex",mt:1,alignItems:"center"},m.a.createElement("div",{className:n.divider}),m.a.createElement(V.a,{gutterBottom:!0,align:"center",variant:"subtitle1"},"Ho\u1eb7c"),m.a.createElement("div",{className:n.divider})),m.a.createElement(Ne.a,{container:!0,spacing:3},m.a.createElement(Ne.a,{item:!0,xs:12}),m.a.createElement(Ne.a,{item:!0,xs:6},m.a.createElement(De.a,{appId:"1335197703825731",autoLoad:!1,callback:async e=>{const{accessToken:t,userID:a}=e;E(we.auth.login(Re,{accessToken:t,userID:a}))},render:e=>m.a.createElement(Ge.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,startIcon:m.a.createElement(Y.a,{style:{height:"20px",width:"20px"},variant:"square",src:"https://res.cloudinary.com/dfbongzx0/image/upload/v1621771959/idn7xi1tw5blhrj8zoxk.png"}),onClick:e.onClick},"Facebook")}))))))};var Ft=()=>{const e=Fe(),{enqueueSnackbar:t}=Object(b.b)(),[a,n]=Object(u.useState)(""),[r,l]=Object(u.useState)(""),[o,i]=Object(u.useState)(""),[c,s]=Object(u.useState)(""),[d,p]=Object(u.useState)(!0),{isLoggingIn:h,message:E}=(Object(g.c)(),Object(g.d)(e=>e.auth));Object(u.useEffect)(()=>{h||E&&t(E,{variant:"error"})},[h]);const f=()=>{p(!d)};return m.a.createElement(Ne.a,{container:!0,component:"main",className:e.root},m.a.createElement(W.a,null),m.a.createElement(Ne.a,{item:!0,xs:!1,sm:8,md:8,className:e.image}),m.a.createElement(Ne.a,{item:!0,xs:12,sm:4,nd:4},d?m.a.createElement(Lt,{isLogin:d,handleLoginOrRegister:f}):m.a.createElement(Bt,{isLogin:d,handleLoginOrRegister:f})))};var At=a(497);var qt=()=>{const e=Me(),t=Object(I.h)(),{enqueueSnackbar:a}=Object(b.b)(),[n,r]=Object(u.useState)({name:"",email:"",password:""}),[l,o]=Object(u.useState)({name:"",email:"",password:""});return m.a.createElement(Ne.a,{container:!0,component:"main",className:e.root},m.a.createElement(W.a,null),m.a.createElement(Ne.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),m.a.createElement(Ne.a,{item:!0,xs:12,sm:8,md:5,component:Qe.a,elevation:6,square:!0},m.a.createElement("div",{className:e.paper},m.a.createElement(Y.a,{className:e.avatar},m.a.createElement(We.a,null)),m.a.createElement(V.a,{component:"h1",variant:"h5"},"\u0110\u0103ng k\xed"),m.a.createElement("form",{className:e.form,noValidate:!0},m.a.createElement(ze.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",name:"name",autoComplete:"name",value:n.name,onChange:e=>{o({...l,name:""}),r({...n,name:e.target.value})},error:l.name,helperText:l.name}),m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:n.email,onChange:e=>{o({...l,email:""}),r({...n,email:e.target.value})},error:l.email,helperText:l.email}),m.a.createElement(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"current-password",value:n.password,onChange:e=>{o({...l,password:""}),r({...n,password:e.target.value})},error:l.password,helperText:l.password}),m.a.createElement(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:async e=>{if(e.preventDefault(),!(()=>{let e=0;return 0===n.name.length&&(o(e=>({...e,name:"Name is required"})),e++),0===n.email.length?(o(e=>({...e,email:"Email is required"})),e++):Ue(n.email)||(o(e=>({...e,email:"Email invalid"})),e++),0===n.password.length&&(o(e=>({...e,password:"Password is required"})),e++),!(e>0)})())return;const r=await Nt.auth.register({...n});r&&r.status?(a("Register success",{variant:"success"}),t.push("/login")):a(r.message||"Register failed",{variant:"error"})}},"\u0110\u0103ng k\xed"),m.a.createElement(Ne.a,{container:!0,justify:"flex-end"},m.a.createElement(Ne.a,{item:!0},m.a.createElement(At.a,{to:"/login",variant:"body2"},"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?")))))))};var Rt=a(228),Ut=a(538),_t=a(534),Qt=a(503),zt=a(64),Gt=a.n(zt),Wt=a(498),Mt=a(499),Ht=a(500),Kt=a(501),Yt=a(502),Vt=Object(xe.a)(e=>({root:{flexGrow:1},media:{height:140,backgroundSize:"contain"},date:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}));var Jt=e=>{let{item:t}=e;const{t:a}=Object(Ut.a)(),n=Object(I.h)(),r=Vt();return m.a.createElement(Ne.a,{item:!0,xs:12,md:4,key:t.id},m.a.createElement(Wt.a,{className:r.root},m.a.createElement(Mt.a,{avatar:t.createdBy.avatar?m.a.createElement(Y.a,{alt:t.createdBy.name,src:t.createdBy.avatar}):m.a.createElement(Y.a,{"aria-label":"recipe",className:r.avatar},t.createdBy.name[0]),action:m.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p",style:{marginTop:"20px"}},t.examTime," ph\xfat"),title:t.title,subheader:"T\u1ea1o b\u1edfi: ".concat(t.createdBy.name)}),m.a.createElement(Ht.a,{className:r.media,image:t.imageUrl||"https://monamedia.co/wp-content/uploads/2020/02/javascript-la-gi.jpg",title:t.title}),m.a.createElement(Kt.a,null,m.a.createElement(J.a,{display:"flex",alignItems:"center",justifyContent:"space-between",style:{width:"100%"}},m.a.createElement(J.a,{display:"flex",alignItems:"center"},m.a.createElement(Yt.a,{style:{marginRight:"5px"},color:"secondary",fontSize:"small"}),m.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},t&&Gt()(t.startTime).format("lll"))),m.a.createElement(J.a,{display:"flex",justifyContent:"flex-end"},m.a.createElement(Ge.a,{variant:"outlined",color:"primary",onClick:e=>{e.preventDefault(),n.push("/contest/".concat(t.id,"/exam/detail"))}},"Tham gia"))))))},Xt=Object(xe.a)(e=>({root:{marginBottom:e.spacing(2)}}));var Zt,$t=e=>{let{title:t=""}=e;return m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",style:{color:"#ccc"}},"Loading ",t,"..."))};a(291);const ea=[{id:0,heading:"T\u1ea5t c\u1ea3 cu\u1ed9c thi"},{id:1,heading:"\u0110\xe3 tham gia"},{id:2,heading:"\u0110ang di\u1ec5n ra"},{id:3,heading:"S\u1eafp di\u1ec5n ra"},{id:4,heading:"\u0110\xe3 k\u1ebft th\xfac"}];let ta=[];var aa=()=>{const{t:e}=Object(Ut.a)(),{enqueueSnackbar:t}=Object(b.b)(),a=Xt(),[n,r]=Object(u.useState)(0),[l,o]=Object(u.useState)(!0),[i,c]=Object(u.useState)([]),[s,d]=Object(u.useState)([]);Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.getContests();e&&e.status?(c(e.result.data),ta=[...e.result.data],o(!1)):t(e&&e.message||"Fetch data failed",{variant:"error"})})()},[]);if(l)return m.a.createElement($t,null);String.raw(Zt||(Zt=Object(Rt.a)(["x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)}"],["x_{n+1} = x_n - \\frac{f(x_n)}{f'(x_n)}"])));return m.a.createElement(m.a.Fragment,null,m.a.createElement(J.a,{mb:1},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Danh s\xe1ch cu\u1ed9c thi")),m.a.createElement(Qe.a,{className:a.root},m.a.createElement(_t.a,{value:n,onChange:async(e,a)=>{r(a);const n=new Date;if(0!==a)if(1!==a)if(2!==a)if(3!==a)if(4!==a);else{const e=ta.filter(e=>e.endTime&&new Date(e.endTime)<n);c([...e])}else{const e=ta.filter(e=>new Date(e.startTime)>n);c([...e])}else{const e=ta.filter(e=>!(e.endTime&&new Date(e.endTime)<n)&&!(new Date(e.startTime)>n));c([...e])}else s.length<=0&&await(async()=>{const e=await Nt.contest.getContestsJoined();e&&e.status?d(e.result.contests):t(e&&e.message||"Fetch data failed",{variant:"error"})})();else c([...ta])},indicatorColor:"primary",textColor:"primary"},ea.map(e=>m.a.createElement(Qt.a,{label:e.heading,key:e.id},e.heading)))),1===n?m.a.createElement(Ne.a,{container:!0,spacing:3},s.map(e=>m.a.createElement(Jt,{item:e}))):m.a.createElement(Ne.a,{container:!0,spacing:3},i.map(e=>m.a.createElement(Jt,{item:e}))))};var na=Object(xe.a)(e=>({appBar:{position:"relative"},tab:{marginBottom:e.spacing(2)},paper:{marginBottom:e.spacing(3),padding:e.spacing(6),[e.breakpoints.up(600+2*e.spacing(3))]:{marginBottom:e.spacing(6),padding:e.spacing(10)}},stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},paperImage:{padding:e.spacing(1)},input:{display:"none"},large:{width:e.spacing(9),height:e.spacing(9)},avatar:{position:"relative",borderRadius:"50%","&:hover":{"& label":{opacity:"0.3"}},overflow:"hidden"},btnCamera:{cursor:"pointer",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",left:"50%",transform:"translate(-50%,-50%)",fontSize:"20px",backgroundColor:"#FFF",opacity:"0",transition:"0.5s"}})),ra=a(504),la=Object(xe.a)(e=>({appBar:{position:"relative"},paper:{marginBottom:e.spacing(3),padding:e.spacing(6),[e.breakpoints.up(600+2*e.spacing(3))]:{marginBottom:e.spacing(6),padding:e.spacing(10)}},stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},buttonDelete:{marginTop:e.spacing(3),marginLeft:e.spacing(1),backgroundColor:"#f44336",color:"#FFF"},paperImage:{padding:e.spacing(1)},input:{display:"none"},large:{width:e.spacing(9),height:e.spacing(9)},avatar:{position:"relative",borderRadius:"50%","&:hover":{"& label":{opacity:"0.3"}},overflow:"hidden"},btnCamera:{cursor:"pointer",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",left:"50%",transform:"translate(-50%,-50%)",fontSize:"20px",backgroundColor:"#FFF",opacity:"0",transition:"0.5s"}}));var oa=()=>{const e=la(),t=Object(g.c)(),{enqueueSnackbar:a}=Object(b.b)(),[n,r]=Object(u.useState)(Object(g.d)(e=>e.auth.user));console.log(n);const l=e=>{r({...n,[e.target.name]:e.target.value})};return m.a.createElement("div",{className:e.root},m.a.createElement(Ne.a,{container:!0,spacing:3},m.a.createElement(Ne.a,{item:!0,xs:12,sm:3},m.a.createElement(J.a,{borderRadius:"50%",className:e.avatar},m.a.createElement(Y.a,{alt:"avatar",src:n&&n.avatar||"",style:{width:"100%",height:"200px"}}),m.a.createElement("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:async e=>{const t=new FormData,l=e.target.files[0];t.append("file",l);try{const e=await Nt.upload.uploadAvatar({formData:t});e&&e.status?(r({...n,avatar:e.result.link}),console.log(e.result.link)):a("Upload failed",{variant:"error"})}catch(o){console.log(o)}}}),m.a.createElement("label",{className:e.btnCamera,htmlFor:"icon-button-file"},m.a.createElement(K.a,{color:"primary","aria-label":"upload picture",component:"span"},m.a.createElement(ra.a,{fontSize:"large"}))))),m.a.createElement(Ne.a,{item:!0,xs:12,sm:9},m.a.createElement(Qe.a,{className:e.paper,variant:3},m.a.createElement(J.a,{textAlign:"center",mb:3},m.a.createElement(V.a,{variant:"h4",component:"h2"},"Th\xf4ng tin")),m.a.createElement(Ne.a,{container:!0,spacing:3},m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{required:!0,id:"name",name:"name",label:"T\xean c\u1ee7a b\u1ea1n",variant:"outlined",fullWidth:!0,value:n&&n.name||"",onChange:l})),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{required:!0,name:"email",label:"Email",variant:"outlined",fullWidth:!0,disabled:!0,value:n&&n.email||"",onChange:l})),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{required:!0,name:"phoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",fullWidth:!0,value:n&&n.phoneNumber||"",onChange:l})),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{name:"urlFacebook",label:"Link Facebook",variant:"outlined",fullWidth:!0,value:n&&n.urlFacebook||"",onChange:l})),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{name:"urlYoutube",label:"Link Youtube",variant:"outlined",fullWidth:!0,value:n&&n.urlYoutube||"",onChange:l})),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(ze.a,{name:"urlWebsite",label:"Link Website",variant:"outlined",fullWidth:!0,value:n&&n.urlWebsite||"",onChange:l}))),m.a.createElement(J.a,{textAlign:"right"},m.a.createElement(Ge.a,{variant:"contained",color:"primary",className:e.button,size:"large",onClick:async e=>{e.preventDefault();const{name:r,avatar:l,dob:o,phoneNumber:i,urlFacebook:c,urlYoutube:s,urlWebsite:u}=n;if(r.trim().length<=0)return void a("Name doesn't empty",{variant:"error"});const m=await Nt.user.updateUser({name:r,avatar:l,dob:o,phoneNumber:i,urlFacebook:c,urlYoutube:s,urlWebsite:u});m&&m.status?(t(we.auth.updateUser({...m.result.user})),a("Update success",{variant:"success"})):a("Update failed",{variant:"error"})}},"L\u01b0u l\u1ea1i"),m.a.createElement(Ge.a,{variant:"contained",color:"warning",className:e.buttonDelete,size:"large",onClick:()=>{(async()=>{try{const e=await Nt.auth.deleteUser();console.log(e),e&&200==e.code?(alert("X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng"),je.a.remove("accessToken"),window.location.reload()):alert("X\xf3a t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i")}catch(e){console.log(e)}})(n._id)}},"X\xf3a t\xe0i kho\u1ea3n"))))))},ia=Object(xe.a)(e=>({paper:{marginBottom:e.spacing(3),paddingTop:e.spacing(10),paddingBottom:e.spacing(10),paddingRight:e.spacing(20),paddingLeft:e.spacing(20),[e.breakpoints.up(600+2*e.spacing(3))]:{marginBottom:e.spacing(6),paddingTop:e.spacing(10),paddingBottom:e.spacing(10),paddingRight:e.spacing(40),paddingLeft:e.spacing(40)}}}));var ca=()=>{const e=ia(),{enqueueSnackbar:t}=Object(b.b)(),[a,n]=Object(u.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),r=e=>{const{name:t,value:r}=e.target;n({...a,[t]:r})};return m.a.createElement(Qe.a,{className:e.paper,variant:3},m.a.createElement(J.a,{textAlign:"center",mb:3},m.a.createElement(V.a,{variant:"h4",component:"h2"},"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u")),m.a.createElement(J.a,{textAlign:"center",mb:3},m.a.createElement(ze.a,{required:!0,type:"password",name:"currentPassword",label:"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i",variant:"outlined",fullWidth:!0,value:a.currentPassword,onChange:r})),m.a.createElement(J.a,{textAlign:"center",mb:3},m.a.createElement(ze.a,{required:!0,type:"password",name:"newPassword",label:"M\u1eadt kh\u1ea9u m\u1edbi",variant:"outlined",fullWidth:!0,value:a.newPassword,onChange:r})),m.a.createElement(J.a,{textAlign:"center",mb:3},m.a.createElement(ze.a,{required:!0,type:"password",name:"confirmNewPassword",label:"X\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u",variant:"outlined",fullWidth:!0,value:a.confirmNewPassword,onChange:r})),m.a.createElement(J.a,{textAlign:"right"},m.a.createElement(Ge.a,{variant:"contained",color:"primary",className:e.button,size:"large",onClick:async e=>{if(e.preventDefault(),!(a.currentPassword.trim().length<=0?(t("Current password is empty",{variant:"error"}),0):a.newPassword.trim().length<=0?(t("New password is empty",{variant:"error"}),0):a.confirmNewPassword.trim().length<=0?(t("Confirm new password is empty",{variant:"error"}),0):a.newPassword.trim()===a.confirmNewPassword.trim()||(t("Confirm password  is not match",{variant:"error"}),0)))return;const r=await Nt.user.changePassword({...a});r&&r.status?(t("Change password success",{variant:"success"}),n({currentPassword:"",newPassword:"",confirmNewPassword:""})):t(r&&r.message||"Change password failed",{variant:"error"})}},"L\u01b0u m\u1eadt kh\u1ea9u")))};const sa=[{id:0,heading:"Th\xf4ng tin c\xe1 nh\xe2n",component:m.a.createElement(oa,null)},{id:1,heading:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u",component:m.a.createElement(ca,null)}];var ua=()=>{const{t:e}=Object(Ut.a)(),t=na(),[a,n]=Object(u.useState)(0);return m.a.createElement("div",null,m.a.createElement(Qe.a,{className:t.tab},m.a.createElement(_t.a,{value:a,onChange:async(e,t)=>{n(t)},indicatorColor:"primary",textColor:"primary"},sa.map(e=>m.a.createElement(Qt.a,{label:e.heading,key:e.id},e.heading)))),(()=>{const e=sa.find(e=>e.id===a);return e&&e.component})())};var ma=a(5),da=a(137),pa=a(537),ga=a(510),ha=a(511),Ea=a(512),ba=a(513),fa=a(514),va=a(515),ya=a(542),wa=a(543),xa=a(509),ka=a(516),Oa=a(517),Ca=a(446),Sa=a(505);var ja=e=>{let{title:t="",handleSearch:a,size:n="small",position:r="end",variant:l="outlined"}=e;return m.a.createElement(ze.a,{variant:l,size:n,InputProps:{startAdornment:m.a.createElement(Ca.a,{position:r},m.a.createElement(Sa.a,null))},placeholder:"T\xecm ki\u1ebfm  ".concat(t),onChange:a})},Ta=a(244),Pa=a(496),Ia=a(541),Na=a(536),Ba=a(508),Da=a(237),La=a(39),Fa=a(506),Aa=a(547),qa=Object(xe.a)(e=>({paper:{top:"5%",bottom:"5%",left:"20%",position:"absolute",width:"60%",backgroundColor:"#fff",borderRadius:e.spacing(1),boxShadow:e.shadows[5],padding:e.spacing(5,4,5),outline:"none",overflow:"auto"},listAnswer:{border:"1px solid #ccc",padding:e.spacing(2),borderRadius:e.spacing(.5),height:"300px",overflow:"auto"},textCreateAnswer:{marginLeft:e.spacing(.5)},listAnswerContent:{marginBottom:e.spacing(1)},formControl:{width:"100%"},input:{display:"none"},margin:{margin:e.spacing(1)}}));function Ra(e){const t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*a),r="0".concat(t).slice(-2),l="0".concat(a).slice(-2),o="0".concat(n).slice(-2);return"".concat(r,":").concat(l,":").concat(o)}var Ua=e=>{let{handleCloseModal:t,open:a,itemSelect:n,handleUpdateContest:r,groupQuestions:l}=e;const o=qa(),{enqueueSnackbar:i}=Object(b.b)(),[c,s]=Object(u.useState)(),d=e=>t=>{let a=c&&c.startTime,n=c&&c.endTime;switch(e){case"startDate":a=t.toISOString();break;case"startTime":a=t.toISOString();break;case"endDate":n=t.toISOString();break;case"endTime":n=t.toISOString()}s({...c,startTime:a,endTime:n})};Object(u.useEffect)(()=>{s(n)},[n,a]);const p=e=>{let{name:t,value:a}=e.target;"isActive"===t&&(a=e.target.checked),s({...c,[t]:a})};return m.a.createElement(Ta.a,{open:a,onClose:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},m.a.createElement("div",{className:o.paper},m.a.createElement(J.a,{mb:3},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Th\xf4ng tin cu\u1ed9c thi")),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"T\xean cu\u1ed9c thi",variant:"outlined",name:"title",value:c&&c.title||"",onChange:p})),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"M\xf4 t\u1ea3 chi ti\u1ebft",variant:"outlined",multiline:!0,rows:5,name:"description",value:c&&c.description||"",onChange:p})),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"Th\u1eddi gian thi(m)",variant:"outlined",name:"examTime",value:c&&c.examTime||"",onChange:p})),m.a.createElement(J.a,null,m.a.createElement(Ne.a,{container:!0,spacing:2},m.a.createElement(Ne.a,{item:!0,xs:2},m.a.createElement("input",{accept:"image/*",className:o.input,id:"contained-button-file",type:"file",onChange:async e=>{const t=new FormData,a=e.target.files[0];t.append("file",a);const n=await Nt.upload.uploadFile({formData:t});n&&n.status?s({...c,imageUrl:n.result.link}):i("Upload failed",{variant:"error"})}}),m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(Ge.a,{size:"small",variant:"outlined",color:"primary",component:"span",fullWidth:!0,style:{height:"100%"}},"T\u1ea2I \u1ea2NH"))),m.a.createElement(Ne.a,{item:!0,xs:10},m.a.createElement(ze.a,{fullWidth:!0,label:"Link \u1ea3nh",variant:"outlined",name:"imageUrl",value:c&&c.imageUrl||"",onChange:p})))),m.a.createElement(J.a,{mb:2},m.a.createElement(La.a,{utils:Da.a},m.a.createElement(Ne.a,{container:!0,spacing:2},m.a.createElement(Ne.a,{item:!0,xs:6},m.a.createElement(V.a,{variant:"subtitle1",style:{justifyContent:"center"}},"Ng\xe0y b\u1eaft \u0111\u1ea7u"),m.a.createElement(Fa.a,{margin:"normal",inputVariant:"outlined",format:"dd/MM/yyyy",value:c&&c.startTime||null,onChange:d("startDate"),KeyboardButtonProps:{"aria-label":"change date"},style:{marginTop:0}})),m.a.createElement(Ne.a,{item:!0,xs:6},m.a.createElement(V.a,{variant:"subtitle1",style:{justifyContent:"center"}},"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),m.a.createElement(Aa.a,{margin:"normal",inputVariant:"outlined",value:c&&c.startTime||null,onChange:d("startTime"),KeyboardButtonProps:{"aria-label":"change time"},style:{marginTop:0}})),m.a.createElement(Ne.a,{item:!0,xs:6},m.a.createElement(V.a,{variant:"subtitle1",style:{justifyContent:"center"}},"Ng\xe0y k\u1ebft th\xfac"),m.a.createElement(Fa.a,{margin:"normal",inputVariant:"outlined",format:"dd/MM/yyyy",value:c&&c.endTime||null,onChange:d("endDate"),KeyboardButtonProps:{"aria-label":"change date"},style:{marginTop:0}})),m.a.createElement(Ne.a,{item:!0,xs:6},m.a.createElement(V.a,{variant:"subtitle1",style:{justifyContent:"center"}},"Th\u1eddi gian k\u1ebft th\xfac"),m.a.createElement(Aa.a,{margin:"normal",inputVariant:"outlined",value:c&&c.endTime||null,onChange:d("endTime"),KeyboardButtonProps:{"aria-label":"change time"},style:{marginTop:0}}))))),m.a.createElement(J.a,{mb:2},m.a.createElement(Pa.a,{variant:"outlined",className:o.formControl},m.a.createElement(Ia.a,{id:"demo-simple-select-outlined-label"},"B\u1ed9 c\xe2u h\u1ecfi"),m.a.createElement(Na.a,{labelId:"demo-simple-select-outlined-label",value:c&&c.groupQuestion,name:"groupQuestion",onChange:p,label:"Group Question"},l.map(e=>m.a.createElement(Z.a,{value:e.id,key:e.id},m.a.createElement("em",null,e.title)))))),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"M\xe3 code (n\u1ebfu c\xf3)",variant:"outlined",name:"password",value:c&&c.password||"",onChange:p})),m.a.createElement(J.a,{mb:2},m.a.createElement(Ba.a,{control:m.a.createElement(pa.a,{checked:c&&c.isActive||!1,onChange:p,name:"isActive",color:"primary"}),label:"Cu\u1ed9c thi s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb l\xean h\u1ec7 th\u1ed1ng"})),m.a.createElement(J.a,{display:"flex",justifyContent:"flex-end"},m.a.createElement(J.a,{mr:1},m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",onClick:async e=>{e.preventDefault();let t=null;if(!(e=>{if(!e.title||e.title.trim().length<=0)return i("Title is not empty",{variant:"error"}),!1;if(!e.examTime)return i("Min is not empty",{variant:"error"}),!1;return/^\d+$/.test(e.examTime)?e.groupQuestion?e.startTime?!(e.endTime&&e.startTime>=e.endTime)||(i("end time must greater than start time",{variant:"error"}),!1):(i("You haven't set start time",{variant:"error"}),!1):(i("You haven't choose group question",{variant:"error"}),!1):(i("Min must a number",{variant:"error"}),!1)})(c))return;const a={...c,groupQuestion:c.groupQuestion,isActive:c.isActive||!1};if(t=n&&n.id?await Nt.contest.updateContest(n.id,a):await Nt.contest.createContest(a),t&&t.status){const{contest:e}=t.result,a=n&&n.id?"UPDATE":"ADD";r(e,a),i("Save data success",{variant:"success"})}else i(t&&t.message||"Save data failed",{variant:"error"})}},"L\u01b0u")),m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",size:"large",onClick:t},"H\u1ee7y b\u1ecf")))))};const _a={100:"#FFF5F5",200:"#FED7D7",300:"#FEB2B2",400:"#FC8181",500:"#F56565",600:"#E53E3E",700:"#C53030",800:"#9B2C2C",900:"#742A2A"},Qa={100:"#FFFFF0",200:"#FEFCBF",300:"#FAF089",400:"#F6E05E",500:"#ECC94B",600:"#D69E2E",700:"#B7791F",800:"#975A16",900:"#744210"},za={100:"#F0FFF4",200:"#C6F6D5",300:"#9AE6B4",400:"#68D391",500:"#48BB78",600:"#38A169",700:"#2F855A",800:"#276749",900:"#22543D"};var Ga=Object(xe.a)(e=>({textPrimary:{fontSize:e.spacing(2.5),fontWeight:"bold"},accordion:{padding:e.spacing(2)},menusToggle:{boxShadow:e.palette.boxShadow_l1},question:{fontWeight:"bold"},heading:{fontSize:e.spacing(2.5)},detail:{width:"100%"},actionBox:{display:"flex",justifyContent:"center",alignItems:"center"},row:{"&:hover":{backgroundColor:"#eee"},cursor:"pointer"},redStatus:{color:_a[500]},greenStatus:{color:za[500]},yellowStatus:{color:Qa[500]},input:{display:"none"}}));var Wa=()=>{const e=Ga(),t=Object(I.h)(),{enqueueSnackbar:a}=Object(b.b)(),[n,r]=Object(u.useState)(!1),[l,o]=Object(u.useState)(""),[i,c]=Object(u.useState)([]),[s,d]=Object(u.useState)(null),[p,g]=Object(u.useState)([]),[h,E]=Object(u.useState)({rowsPerPage:100,page:0,count:100});Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.getContestsByUser();if(e&&e.status){const{result:t}=e;E({...h,count:t.metadata.count||0}),c(t.data)}else a(e&&e.message||"Fetch data failed",{variant:"error"})})(),(async e=>{const t=await Nt.groupQuestion.getGroupQuestions(e);t&&t.status?g(t.result.data):a(t&&t.message||"Fetch data failed",{variant:"error"})})()},[]);const f=()=>{r(!1),d(null)},v=e=>t=>{t.preventDefault(),d(e),r(!0)};Object(ma.a)({root:{color:da.a[400],"&$checked":{color:da.a[600]}},checked:{}})(e=>m.a.createElement(pa.a,Object.assign({color:"default"},e)));return m.a.createElement("div",null,m.a.createElement(J.a,{mb:1},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Danh s\xe1ch cu\u1ed9c thi")),m.a.createElement(J.a,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},m.a.createElement(J.a,null,m.a.createElement(ja,{handleSearch:async e=>{const{value:t}=e.target;o(t),E({...h,page:0})}})),m.a.createElement(J.a,{display:"flex"},m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:m.a.createElement(xa.a,null),onClick:e=>{e.preventDefault(),r(!0)}},"Th\xeam cu\u1ed9c thi")))),m.a.createElement(J.a,null,m.a.createElement(ga.a,{component:Qe.a},m.a.createElement(ha.a,{className:e.table,"aria-label":"simple table"},m.a.createElement(Ea.a,null,m.a.createElement(ba.a,null,m.a.createElement(fa.a,{align:"center"},"STT"),m.a.createElement(fa.a,null,"T\xean cu\u1ed9c thi"),m.a.createElement(fa.a,{align:"center"},"Th\u1eddi gian(ph\xfat)"),m.a.createElement(fa.a,{align:"center"},"Ng\xe0y"),m.a.createElement(fa.a,{align:"center"},"M\xe3 code"),m.a.createElement(fa.a,{align:"center"},"Tr\u1ea1ng th\xe1i"),m.a.createElement(fa.a,null),m.a.createElement(fa.a,null))),m.a.createElement(va.a,null,i.filter(e=>e.title.indexOf(l)>=0).slice(h.page*h.rowsPerPage,h.page*h.rowsPerPage+h.rowsPerPage).map((n,r)=>m.a.createElement(ba.a,{key:n.id,className:e.row,onClick:v(n)},m.a.createElement(fa.a,{align:"center"},h.page*h.rowsPerPage+r+1),m.a.createElement(fa.a,{style:{maxWidth:200}},n.title),m.a.createElement(fa.a,{align:"center"},n.examTime),m.a.createElement(fa.a,null,m.a.createElement(J.a,{display:"flex",flexDirection:"column"},m.a.createElement("div",null," BD: ",Gt()(n.startTime).format("LLL")),m.a.createElement("div",null,"KT:"," ",n.endTime&&Gt()(n.endTime).format("LLL")||""))),m.a.createElement(fa.a,{align:"center"},n.password&&m.a.createElement(ya.a,{title:n.password},m.a.createElement(ka.a,null))),m.a.createElement(fa.a,{align:"center"},n.isActive&&m.a.createElement(J.a,{style:{color:"#000",background:"#7beeab",borderRadius:5,padding:5}},"active")),m.a.createElement(fa.a,null,m.a.createElement(J.a,null,m.a.createElement(K.a,{"aria-label":"delete",onClick:e=>{e.stopPropagation(),(async e=>{const t=await Nt.contest.deleteContest(e);if(t&&t.status){const t=[...i],n=t.findIndex(t=>t.id===e);t.splice(n,1),c(t),a("Delete data success",{variant:"success"})}else a(t&&t.message||"Delete data failed",{variant:"error"})})(n.id)}},m.a.createElement(Oa.a,null)))),m.a.createElement(fa.a,null,m.a.createElement(Ge.a,{color:"primary",onClick:e=>{e.stopPropagation(),t.push("/contest/".concat(n.id,"/exam/detail"))}},"Th\u1ed1ng k\xea")))))),i.length>0&&h.count>h.rowsPerPage&&m.a.createElement(wa.a,{component:"div",rowsPerPageOptions:[h.rowsPerPage],count:i.filter(e=>e.title.indexOf(l)>=0).slice(h.page*h.rowsPerPage,h.page*h.rowsPerPage+h.rowsPerPage).length,page:h.page,onChangePage:async(e,t)=>{E({...h,page:t})},rowsPerPage:h.rowsPerPage}))),m.a.createElement(Ua,{open:n,handleCloseModal:f,itemSelect:s,groupQuestions:p,handleUpdateContest:(e,t)=>{if("ADD"===t){const t=[{...e},...i];return c(t),o(""),void f()}const a=[...i],n=a.findIndex(t=>t.id===e.id);a[n]={...e},f(),c(a)}}))};var Ma=a(518),Ha=a(520),Ka=a(519),Ya=a(521),Va=Object(xe.a)(e=>({textPrimary:{fontSize:e.spacing(2.5),fontWeight:"bold"},listItem:{background:"#fff",padding:e.spacing(2),boxShadow:e.palette.boxShadow_l1,borderRadius:e.spacing(1),fontSize:e.spacing(2),cursor:"pointer",marginBottom:e.spacing(2),"&:hover":{backgroundColor:e.palette.active}},menusToggle:{boxShadow:e.palette.boxShadow_l1}})),Ja=Object(xe.a)(e=>({paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"40%",backgroundColor:"#fff",borderRadius:e.spacing(1),boxShadow:e.shadows[5],padding:e.spacing(5,4,5),outline:"none"}}));var Xa=e=>{let{handleCloseModal:t,open:a,item:n,handleSave:r}=e;const l=Ja(),[o,i]=Object(u.useState)(0),[c,s]=Object(u.useState)({title:"",description:""});Object(u.useEffect)(()=>{n?(s({...n}),i(1)):(s({title:"",description:""}),i(0))},[a]);const d=e=>{s({...c,[e.target.name]:e.target.value})};return m.a.createElement(Ta.a,{open:a,onClose:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},m.a.createElement("div",{className:l.paper},m.a.createElement(J.a,{mb:3},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},o?"C\u1eadp nh\u1eadt th\xf4ng tin b\u1ed9 c\xe2u h\u1ecfi ":"Th\xeam th\xf4ng tin b\u1ed9 c\xe2u h\u1ecfi")),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,variant:"outlined",size:"large",placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1",name:"title",value:c&&c.title||"",onChange:d})),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,variant:"outlined",size:"large",placeholder:"Nh\u1eadp m\xf4 t\u1ea3 chi ti\u1ebft",name:"description",value:c&&c.description||"",onChange:d})),m.a.createElement(J.a,{display:"flex",justifyContent:"flex-end"},m.a.createElement(J.a,{mr:1},m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",onClick:r(c)},"L\u01b0u")),m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",size:"large",onClick:t},"H\u1ee7y b\u1ecf")))))};let Za=null;var $a=()=>{const e=Va(),{enqueueSnackbar:t}=Object(b.b)(),a=Object(I.h)(),[n,r]=Object(u.useState)(null),[l,o]=Object(u.useState)(!1),[i,c]=Object(u.useState)(""),[s,d]=Object(u.useState)(),[p,g]=Object(u.useState)([]),[h,E]=Object(u.useState)(!0),f=async e=>{const a=await Nt.groupQuestion.getGroupQuestions(e);a&&a.status?(g(a.result.data),E(!1)):t(a&&a.message||"Fetch data failed",{variant:"error"})};Object(u.useEffect)(()=>{f()},[]);const v=e=>t=>{r(t.currentTarget),d(e)};return h?m.a.createElement($t,null):m.a.createElement("div",null,m.a.createElement(J.a,{mb:1},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Danh s\xe1ch b\u1ed9 c\xe2u h\u1ecfi")),m.a.createElement(J.a,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},m.a.createElement(J.a,null,m.a.createElement(ja,{handleSearch:e=>{const{value:t}=e.target;c(t),clearTimeout(Za),Za=setTimeout(()=>{f(t)},100)}})),m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:m.a.createElement(xa.a,null),onClick:e=>{e.preventDefault(),d(null),o(!0)}},"Th\xeam b\u1ed9 c\xe2u h\u1ecfi"))),0===p.length?m.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0,align:"center",style:{color:"#ccc"}},"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"):m.a.createElement(te.a,null,p.map(t=>{return m.a.createElement(ae.a,{className:e.listItem,key:t.id,onClick:(n=t.id,()=>{a.push("/groupQuestions/".concat(n,"/questions"))})},m.a.createElement(Ma.a,null,m.a.createElement(Y.a,null,m.a.createElement(Ka.a,null))),m.a.createElement(re.a,{classes:{primary:e.textPrimary},primary:t.title,secondary:t.description}),m.a.createElement(Ha.a,null,m.a.createElement("div",{onClick:v(t)},m.a.createElement(K.a,{edge:"end","aria-label":"more"},m.a.createElement(Ya.a,null)))));var n})),m.a.createElement(X.a,{classes:{paper:e.menusToggle},id:"simple-menu",anchorEl:n,open:Boolean(n),onClose:()=>{r(null)}},m.a.createElement(Z.a,{onClick:()=>{r(null),o(!0)}},"S\u1eeda"),m.a.createElement(Z.a,{onClick:async()=>{r(null);try{await Nt.groupQuestion.deleteGroupQuestions(s.id);const e=[...p].filter(e=>e.id!==s.id);g(e),t("Delete success",{variant:"success"})}catch(e){t("Delete data failed",{variant:"error"})}}},"X\xf3a")),m.a.createElement(Xa,{open:l,item:s,handleCloseModal:()=>{o(!1)},handleSave:e=>async a=>{if(a.preventDefault(),e.id){const{title:a,description:n,imageUrl:r}=e,l=await Nt.groupQuestion.updateGroupQuestions(e.id,{title:a,description:n,imageUrl:r});if(l&&l.status){o(!1);const a=[...p],n=a.findIndex(t=>t.id===e.id);a[n]={...l.result.groupQuestion},g(a),t("Update success",{variant:"success"})}else t(l&&l.message||"Update failed",{variant:"error"})}else{const{title:a,description:n,imageUrl:r}=e;if(a.trim().length<=0)return void t("Title doesn't empty ",{variant:"error"});const l=await Nt.groupQuestion.createGroupQuestion({title:a,description:n,imageUrl:r});if(l&&l.status){o(!1);const e=[...p];e.push({...l.result.groupQuestion}),g(e),t("Create success",{variant:"success"})}else t(l&&l.message||"Create failed",{variant:"error"})}}}))};var en=a(133),tn=a.n(en),an=a(532),nn=a(525),rn=a(526),ln=a(522),on=a(523),cn=a(138),sn=["EASY","MEDIUM","HARD"],un=Object(xe.a)(e=>({paper:{top:"5%",bottom:"5%",left:"20%",position:"absolute",width:"60%",backgroundColor:"#fff",borderRadius:e.spacing(1),boxShadow:e.shadows[5],padding:e.spacing(5,4,5),outline:"none",overflow:"auto"},listAnswer:{border:"1px solid #ccc",padding:e.spacing(2),borderRadius:e.spacing(.5),height:"300px",overflow:"auto"},textCreateAnswer:{marginLeft:e.spacing(.5)},listAnswerContent:{marginBottom:e.spacing(1)},formControl:{width:"100%"}}));var mn=e=>{let{handleCloseModal:t,open:a,itemSelect:n,handleUpdateQuestion:r,groupQuestionId:l}=e;const o=un(),{enqueueSnackbar:i}=Object(b.b)(),[c,s]=Object(u.useState)();Object(u.useEffect)(()=>{},[a]),Object(u.useEffect)(()=>{s(n)},[n,a]);const d=e=>{s({...c,[e.target.name]:e.target.value})},p=e=>t=>{const a=c&&c.answers;a[e]={...a[e],content:t.target.value},s({...c,answers:[...a]})},g=e=>()=>{let t=c&&c.answers;t=t.map((t,a)=>({...t,isCorrect:a===e})),s({...c,answers:[...t]})};return m.a.createElement(Ta.a,{open:a,onClose:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},m.a.createElement("div",{className:o.paper},m.a.createElement(J.a,{mb:3},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Th\xf4ng tin c\xe2u h\u1ecfi")),m.a.createElement(J.a,{mb:2},m.a.createElement(Pa.a,{variant:"outlined",className:o.formControl},m.a.createElement(Ia.a,null,"C\u1ea5p \u0111\u1ed9 c\xe2u h\u1ecfi"),m.a.createElement(Na.a,{name:"level",label:"C\u1ea5p \u0111\u1ed9 c\xe2u h\u1ecfi",value:c&&c.level||"EASY",onChange:d},sn.map(e=>m.a.createElement(Z.a,{value:e,key:e},e))))),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"Ti\xeau \u0111\u1ec1 c\xe2u h\u1ecfi",variant:"outlined",name:"title",value:c&&c.title||"",onChange:d})),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"N\u1ed9i dung c\xe2u h\u1ecfi",variant:"outlined",multiline:!0,rows:10,name:"description",value:c&&c.description||"",onChange:d})),m.a.createElement(J.a,{mb:2,className:o.listAnswer},m.a.createElement(J.a,{display:"flex",alignItems:"center"},m.a.createElement(V.a,{variant:"h6",className:o.textCreateAnswer},"Danh s\xe1ch \u0111\xe1p \xe1n")),m.a.createElement(J.a,null,m.a.createElement(cn.a,{onDragEnd:e=>{if(!e.destination)return;const t=e.source.index,a=e.destination.index,n=c&&c.answers;n[t].position=a,n[a].position=t;const[r]=n.splice(t,1);n.splice(a,0,r),s({...c,answers:n})}},m.a.createElement(cn.c,{droppableId:"droppable"},e=>m.a.createElement(ln.a,{rootRef:e.innerRef},m.a.createElement(te.a,null,c&&c.answers&&c.answers.map((e,t)=>m.a.createElement(cn.b,{key:"item-".concat(t),draggableId:"item-".concat(t),index:t},(a,n)=>{return m.a.createElement(ae.a,Object.assign({ContainerComponent:"li",ContainerProps:{ref:a.innerRef}},a.draggableProps,a.dragHandleProps,{style:(l=n.isDragging,o=a.draggableProps.style,{...o,...l&&{background:"rgb(235,235,235)"}})}),m.a.createElement(ne.a,null,m.a.createElement("div",{onClick:(r=t,()=>{const e=c&&c.answers;e.splice(r,1),s({...c,answers:[...e]})})},m.a.createElement(K.a,null,m.a.createElement(on.a,null)))),m.a.createElement(re.a,{primary:m.a.createElement(J.a,null,m.a.createElement(pa.a,{checked:e.isCorrect,onChange:g(t),inputProps:{"aria-label":"primary checkbox"}}),m.a.createElement(ze.a,{value:e.content,onChange:p(t)}))}),m.a.createElement(Ha.a,null));var r,l,o})),e.placeholder)))),m.a.createElement(Ge.a,{variant:"outlined",color:"secondary",startIcon:m.a.createElement(xa.a,null),onClick:e=>{e.preventDefault();const t={answerId:tn()(),position:c&&c.answers&&c.answers.length||0,content:"",isCorrect:!1};s({...c,answers:c&&c.answers?[...c.answers,t]:[t]})}},"Th\xeam"))),m.a.createElement(J.a,{mb:2},m.a.createElement(ze.a,{fullWidth:!0,label:"Gi\u1ea3i th\xedch \u0111\xe1p \xe1n",variant:"outlined",multiline:!0,rows:5,name:"explain",value:c&&c.explain||"",onChange:d})),m.a.createElement(J.a,{display:"flex",justifyContent:"flex-end"},m.a.createElement(J.a,{mr:1},m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",onClick:async e=>{e.preventDefault();let t=null;if((e=>{if(e.description.trim().length<=0)return i("Description is not empty",{variant:"error"}),!1;if(e.answers.length<2)return i("Must have at least 2 answers",{variant:"error"}),!1;return!!e.answers.find(e=>e.isCorrect)||(i("You have not chosen the correct answer",{variant:"error"}),!1)})(c))if(t=n&&n.id?await Nt.question.updateQuestion(n.id,{...c,level:c.level||"EASY",groupQuestion:l}):await Nt.question.createQuestion({...c,level:c.level||"EASY",groupQuestion:l}),t&&t.status){const{question:e}=t.result,a=n&&n.id?"UPDATE":"ADD";r(e,a),i("Save data success",{variant:"success"})}else i(t&&t.message||"Save data failed",{variant:"error"})}},"L\u01b0u")),m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",size:"large",onClick:t},"H\u1ee7y b\u1ecf")))))},dn=a(524),pn=Object(xe.a)(e=>({paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"30%",margin:"0 auto",backgroundColor:"#fff",borderRadius:e.spacing(1),boxShadow:e.shadows[5],padding:e.spacing(5,4,5),outline:"none",overflow:"auto"}}));var gn=e=>{let{handleCloseModal:t,open:a}=e;const n=pn();return m.a.createElement(Ta.a,{open:a,onClose:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},m.a.createElement("div",{className:n.paper},m.a.createElement(J.a,{mb:1,display:"flex",alignItems:"center",justifyContent:"space-between"},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"H\u01b0\u1edbng d\u1eabn t\u1ea3i file"),m.a.createElement(J.a,{onClick:t},m.a.createElement(dn.a,{style:{color:"#ccc",cursor:"pointer"}}))),m.a.createElement(ee.a,null),m.a.createElement(J.a,{mt:2},m.a.createElement(V.a,null,"B\u1ea1n c\u1ea7n t\u1ea1o file excel theo format d\u01b0\u1edbi \u0111\xe2y \u0111\u1ec3 h\u1ec7 th\u1ed1ng c\xf3 th\u1ec3 \u0111\u1ecdc \u0111\u01b0\u1ee3c n\u1ed9i d\u1ee5ng 1 c\xe1ch ch\xednh x\xe1c:"," ",m.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1aa0U3ezXc7FIGA-P_k6mIV-bVZV0QeiZoAUDbTdJUOY/edit?usp=drive_link",target:"_blank"},"link file EXCEL")))))},hn=Object(xe.a)(e=>({textPrimary:{fontSize:e.spacing(2.5),fontWeight:"bold"},accordion:{padding:e.spacing(2)},menusToggle:{boxShadow:e.palette.boxShadow_l1},question:{fontWeight:"bold"},heading:{fontSize:e.spacing(2.5)},detail:{width:"100%"},actionBox:{display:"flex",justifyContent:"center",alignItems:"center"},row:{"&:hover":{backgroundColor:"#eee"},cursor:"pointer"},redStatus:{color:_a[500]},greenStatus:{color:za[500]},yellowStatus:{color:Qa[500]},input:{display:"none"}}));var En=()=>{const{t:e}=Object(Ut.a)(),t=hn(),{id:a}=Object(I.j)(),{enqueueSnackbar:n}=Object(b.b)(),[r,l]=Object(u.useState)(!1),[o,i]=Object(u.useState)(!1),[c,s]=Object(u.useState)(""),[d,p]=Object(u.useState)([]),[g,h]=Object(u.useState)(null),[E,f]=Object(u.useState)({rowsPerPage:10,page:0,count:100}),v=async e=>{const t=e&&e.offset>=0?e.offset:E.page*E.rowsPerPage,r={sort:e&&e.sort||"createdAt_desc",key:e&&e.key,limit:e&&e.limit||E.rowsPerPage,offset:t,groupQuestionId:a},l=await Nt.question.getQuestionsInGroup({...r});if(l&&l.status){const{result:e}=l;f({...E,count:e.metadata.count||0}),p(e.data)}else n(l&&l.message||"Fetch data failed",{variant:"error"})};Object(u.useEffect)(()=>{v()},[]);const y=()=>{l(!1),h(null)},w=e=>t=>{t.preventDefault(),h(e),l(!0)};return m.a.createElement("div",null,m.a.createElement(J.a,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},m.a.createElement(J.a,null,m.a.createElement(ja,{handleSearch:async e=>{const{value:t}=e.target;s(t),f({...E,page:0}),await v({key:t,offset:0})}})),m.a.createElement(J.a,{display:"flex"},m.a.createElement(J.a,{mr:1,display:"flex",alignItems:"center"},m.a.createElement(J.a,{mr:1,onClick:e=>{e.preventDefault(),i(!0)}},m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(ya.a,{title:"\u0110\u1ecdc k\u0129 h\u01b0\u1edbng d\u1eabn tr\u01b0\u1edbc khi t\u1ea3i l\xean"},m.a.createElement(Ge.a,{size:"large",variant:"contained",style:{color:"#fff",background:"#606060"},component:"span",startIcon:m.a.createElement(nn.a,{style:{color:"#ccc",cursor:"pointer"}})},"H\u01b0\u1edbng d\u1eabn")))),m.a.createElement("input",{accept:"*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:e=>{e.preventDefault(),n("D\u1eef li\u1ec7u \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\xed, xin h\xe3y ch\u1edd \xedt ph\xfat ",{variant:"warning"});const t=e.target.files[0];try{Object(an.a)(t).then(async e=>{console.log(e),await Promise.all(e.map(async e=>{const t=e.filter(e=>e).map(e=>e.toString().trim());if((e=>{console.log(e[e.length-1]);const t=parseInt(e[e.length-1]),a=e.length-5;return console.log({correctAnswer:t,amountAnswer:a}),!(!e[0]||["EASY","MEDIUM","HARD"].indexOf(e[0])<0||!e[2]||a<2||!t||t<1||t>a)})(t)){const e={level:t[0],title:t[1],description:t[2],explain:t[3],answers:t.slice(4,t.length-1).map((e,a)=>({answerId:tn()(),position:a,content:e,isCorrect:parseInt(t[t.length-1])===a+1}))};await Nt.question.createQuestion({...e,groupQuestion:a})}})),v({offset:0}),s(""),n("Nh\u1eadp d\u1eef li\u1ec7u th\xe0nh c\xf4ng",{variant:"success"})})}catch(r){n("Nh\u1eadp d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i",{variant:"error"})}}}),m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(ya.a,{title:"\u0110\u1ecdc k\u0129 h\u01b0\u1edbng d\u1eabn \u1edf icon b\xean c\u1ea1nh tr\u01b0\u1edbc khi t\u1ea3i l\xean"},m.a.createElement(Ge.a,{size:"large",variant:"contained",style:{color:"#fff",background:"green"},component:"span",startIcon:m.a.createElement(rn.a,null)},"T\u1ea3i l\xean")))),m.a.createElement(J.a,null,m.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"large",className:t.button,startIcon:m.a.createElement(xa.a,null),onClick:e=>{e.preventDefault(),l(!0)}},"Th\xeam c\xe2u h\u1ecfi")))),m.a.createElement(J.a,null,m.a.createElement(ga.a,{component:Qe.a},m.a.createElement(ha.a,{className:t.table,"aria-label":"simple table"},m.a.createElement(Ea.a,null,m.a.createElement(ba.a,null,m.a.createElement(fa.a,{align:"center"},"STT"),m.a.createElement(fa.a,null,"Ti\xeau \u0111\u1ec1 c\xe2u h\u1ecfi"),m.a.createElement(fa.a,null,"C\u1ea5p \u0111\u1ed9"),m.a.createElement(fa.a,{align:"center"},"S\u1ed1 l\u01b0\u1ee3ng c\xe2u tr\u1ea3 l\u1eddi"),m.a.createElement(fa.a,null))),m.a.createElement(va.a,null,d.map((e,a)=>m.a.createElement(ba.a,{key:e.id,className:t.row,onClick:w(e)},m.a.createElement(fa.a,{align:"center"},E.page*E.rowsPerPage+a+1),m.a.createElement(fa.a,null,e.title),m.a.createElement(fa.a,{classes:{body:"HARD"===e.level?t.redStatus:"MEDIUM"===e.level?t.yellowStatus:t.greenStatus}},e.level),m.a.createElement(fa.a,{align:"center"},e.answers&&e.answers.length),m.a.createElement(fa.a,{className:t.actionBox},m.a.createElement(J.a,null,m.a.createElement(K.a,{"aria-label":"delete",onClick:t=>{t.stopPropagation(),(async e=>{const t=await Nt.question.deleteQuestion(e);t&&t.status?(v({key:c}),n("Delete data success",{variant:"success"})):n(t&&t.message||"Delete data failed",{variant:"error"})})(e.id)}},m.a.createElement(Oa.a,null)))))))),d.length>0&&E.count>E.rowsPerPage&&m.a.createElement(wa.a,{component:"div",rowsPerPageOptions:[E.rowsPerPage],count:E.count,page:E.page,onChangePage:async(e,t)=>{await v({key:c,offset:t*E.rowsPerPage}),f({...E,page:t})},rowsPerPage:E.rowsPerPage}))),m.a.createElement(mn,{open:r,groupQuestionId:a,handleCloseModal:y,itemSelect:g,handleUpdateQuestion:(e,t)=>{if("ADD"===t)return v({offset:0}),s(""),void y();const a=[...d],n=a.findIndex(t=>t.id===e.id);a[n]={...e},y(),p(a)}}),m.a.createElement(gn,{open:o,handleCloseModal:()=>{i(!1)}}))};var bn=a(544),fn=a(527),vn=a(528),yn=a(529),wn=Object(xe.a)(e=>({paper:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingRight:e.spacing(3),paddingLeft:e.spacing(3)},questionBox:{padding:e.spacing(1)},listQuestionBox:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},listInfo:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"left",justifyContent:"left"},questionSquare:{border:"1px solid #eee",width:"20px",height:"20px",margin:"2px",borderRadius:"50px",padding:e.spacing(2)},fullscreen:{background:"#fafafa",zIndex:99999,top:0,left:0,bottom:0,width:"100%",overflowX:"hidden",overflowY:"hidden",whiteSpace:"nowrap",position:"fixed",padding:e.spacing(8)},prevent_copy_paste:{userSelect:"none","-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none"},answerRow:{cursor:"pointer","&:hover":{background:"#ccc"}}}));var xn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure want to discard changes?";const[t,a]=Object(u.useState)(!1);Object(u.useEffect)(()=>(window.onbeforeunload=t&&(()=>e),()=>{window.onbeforeunload=null}),[t]);const n=m.a.createElement(I.a,{when:t,message:e});return[n,()=>a(!0),()=>a(!1)]},kn=a(535);a(215);let On=null;function Cn(e){return m.a.createElement(kn.a,Object.assign({elevation:6,variant:"filled"},e))}var Sn=()=>{const e=wn(),{id:t}=Object(I.j)(),a=Object(I.h)(),n=new URLSearchParams(Object(I.i)().search),{enqueueSnackbar:r}=Object(b.b)(),[l,o,i]=xn("Hi\u1ec7n t\u1ea1i b\xe0i thi ch\u01b0a \u0111\u01b0\u1ee3c l\u01b0u, n\u1ebfu b\u1ea1n tho\xe1t m\u1ecdi c\xe2u tr\u1ea3 l\u1eddi trong l\u1ea7n thi n\xe0y s\u1ebd b\u1ecb h\u1ee7y b\u1ecf"),[c,s]=Object(u.useState)(),[d,p]=Object(u.useState)([]),[g,h]=Object(u.useState)(!0),[E,f]=Object(u.useState)({}),[v,y]=Object(u.useState)(0),[w,x]=Object(u.useState)(0),[k,O]=Object(u.useState)(0),[C,S]=Object(u.useState)(0),[j,T]=Object(u.useState)(!1),[P,N]=Object(u.useState)(!1),[B,D]=Object(u.useState)(!1),[L,F]=Object(u.useState)(!1),[A,q]=Object(u.useState)(!1),[R,U]=Object(u.useState)(!0),[_,Q]=Object(u.useState)(!1),z=(e,t)=>{"clickaway"!==t&&D(!1)},G=(e,t)=>{"clickaway"!==t&&F(!1)},W=(e,t)=>{"clickaway"!==t&&q(!1)},M=async()=>{const e=n.get("token"),r=await Nt.contest.getQuestions({id:t,token:e});if(r&&r.status){const{contest:e}=r.result;s(e),f({position:0,data:e.questions[0]}),y(60*e.examTime),(e=>{const t=new Date;On=setInterval(()=>{const a=new Date,n=Math.floor((a-t)/1e3);n<e?y(e-n):(y(0),T(!0),clearInterval(On))},1e3)})(60*e.examTime),h(!1)}else a.push("/contest/".concat(t,"/exam/detail"))};Object(u.useEffect)(()=>{const e=()=>{U(!0)},t=()=>{U(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),Object(u.useEffect)(()=>(o(),M(),()=>{console.log("clear interval"),clearInterval(On)}),[]),Object(u.useEffect)(()=>{console.log("load marking"),j&&(i(),(async()=>{const e={doTime:60*c.examTime-v,contestId:c.id,groupQuestionId:c.groupQuestion,answers:d},t=await Nt.contest.mark({...e});if(t&&t.status){const{result:e}=t.result;console.log("mark done ".concat(e.amountCorrectQuestion)),a.push("/contest/".concat(c.id,"/exam/detail?resultId=").concat(e.id))}else r(t&&t.message||"Mark failed",{variant:"error"})})())},[j]),Object(u.useEffect)(()=>{const e=()=>{if("visible"===document.visibilityState)console.log("Page is visible");else if(console.log("Page is hidden"),q(!0),S(C+1),C+1>=2)return alert("B\u1ea1n \u0111\xe3 c\u1ed1 t\xecnh v\u1ecb ph\u1ea1m l\u1ea7n 2, b\xe0i thi s\u1ebd b\u1ecb h\u1ee7y"),void T(!0)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[C]),Object(u.useEffect)(()=>{const e=e=>(console.log("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y?"),e.returnValue="B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y?",T(!0),"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y?");return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[j]),Object(u.useEffect)(()=>{const e=e=>{if(k>=2)return alert("B\u1ea1n \u0111\xe3 c\u1ed1 t\xecnh v\u1ecb ph\u1ea1m qu\xe1 2 l\u1ea7n, b\xe0i thi s\u1ebd b\u1ecb h\u1ee7y"),void T(!0);("F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key)&&(e.preventDefault(),O(k+1),F(!0))};return document.addEventListener("contextmenu",e=>{e.preventDefault()}),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[k]);Object(u.useEffect)(()=>{const e=e=>{"PrintScreen"===e.key&&e.shiftKey&&e.metaKey&&(e.preventDefault(),console.log("Ch\u1ee5p \u1ea3nh m\xe0n h\xecnh \u0111\xe3 b\u1ecb ch\u1eb7n!"))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]);if(g)return m.a.createElement($t,null);if(j)return m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",style:{color:"#ccc"}},"The system is processing, wait a few second..."));const H=E.data.description,K=/\{(.*?)\}/g,Y=H.replace(K,(e,t)=>_e(t)?'<img src="'.concat(t,'" alt="H\xecnh \u1ea3nh test" style="width: auto; height: 350px;"  />'):t);E.data.answers.forEach((e,t,a)=>{a[t].content=e.content.replace(K,(e,t)=>_e(t)?'<img src="'.concat(t,'" alt="H\xecnh \u1ea3nh test" style="width: auto; height: 350px;"  />'):t)});const X=e=>(e.preventDefault(),w>=2?(alert("B\u1ea1n \u0111\xe3 copy-paste qu\xe1 2 l\u1ea7n, b\xe0i thi s\u1ebd b\u1ecb h\u1ee7y"),void T(!0)):1==w?(console.log("Copy-paste is not allowed! l\u1ea7n 2"),D(!0),void x(w+1)):(console.log("Copy-paste is not allowed! l\u1ea7n 1"),x(1),void D(!0)));return m.a.createElement("div",{className:"".concat(P?e.fullscreen:""," prevent_copy_paste"),onCopy:X,onPaste:X},m.a.createElement(bn.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:B,autoHideDuration:3e3,onClose:z},m.a.createElement(Cn,{onClose:z,severity:"warning"},"C\u1ea3nh b\u1ea3o l\u1ea7n ",w," !!! Kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p Copy-paste")),m.a.createElement(bn.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:L,autoHideDuration:3e3,onClose:G},m.a.createElement(Cn,{onClose:G,severity:"warning"},"C\u1ea3nh b\u1ea3o ",k," !!! C\xf2n c\u1ed1 \xfd s\u1eed d\u1ee5ng F12 th\xec b\xe0i thi s\u1ebd b\u1ecb h\u1ee7y")),m.a.createElement(bn.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:A,autoHideDuration:3e3,onClose:W},m.a.createElement(Cn,{onClose:W,severity:"warning"},"C\u1ea3nh b\u1ea3o ",C," !!! Co\u0300n s\u01b0\u0309 du\u0323ng tab kha\u0301c th\xec b\xe0i thi s\u1ebd b\u1ecb h\u1ee7y")),m.a.createElement(J.a,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",mb:2},m.a.createElement(J.a,{display:"flex",alignItems:"center"},m.a.createElement(J.a,{mr:1},m.a.createElement(Yt.a,null)),m.a.createElement(V.a,{variant:"button",display:"block",gutterBottom:!0,style:{fontWeight:"bold",fontSize:"16px"}},Ra(v))),m.a.createElement(J.a,{display:"flex"},m.a.createElement(J.a,{mr:.5},m.a.createElement(Ge.a,{variant:"contained",color:"primary",startIcon:m.a.createElement(fn.a,null),onClick:()=>{T(!0)},style:{background:"#f16a73",color:"#fff",fontSize:"16px"}},"N\u1ed9p b\xe0i")),m.a.createElement(J.a,{mr:.5},m.a.createElement(Ge.a,{variant:"contained",color:"primary",startIcon:P?m.a.createElement(vn.a,null):m.a.createElement(yn.a,null),onClick:e=>{e.preventDefault(),N(e=>!e)}},P?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh ")))),m.a.createElement(J.a,null,m.a.createElement(Ne.a,{container:!0,spacing:1},m.a.createElement(Ne.a,{item:!0,xs:12,md:9},m.a.createElement(Qe.a,{className:e.paper},m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,{gutterBottom:!0,style:{textAlign:"center"}},"C\xe2u s\u1ed1 ",E&&E.position+1),m.a.createElement(V.a,{gutterBottom:!0,style:{color:"#ccc"}},E&&E.data&&E.data.title),m.a.createElement("div",{variant:"h6",gutterBottom:!0},E&&E.data&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:Y}}))),m.a.createElement(J.a,null,E&&E.data&&E.data.answers.sort((e,t)=>e.position-t.position).map((t,a)=>m.a.createElement(J.a,{style:{background:"".concat(d[E.data.id]===t.answerId?"#81d1a2":"#eceff0"),padding:"20px 20px",marginBottom:"10px",borderRadius:"10px",border:"1px solid #ccc"},className:e.answerRow,onClick:()=>{return e=t.answerId,void p({...d,[E.data.id]:e});var e}},m.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}})))))),m.a.createElement(Ne.a,{item:!0,xs:12,md:3},m.a.createElement(Qe.a,{className:e.questionBox},m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"Danh s\xe1ch c\xe2u h\u1ecfi")),m.a.createElement(J.a,{className:e.listQuestionBox},c&&c.questions.map((t,a)=>{return m.a.createElement(Ge.a,{key:a,className:e.questionSquare,style:E&&E.position===a?{background:"#f6a61f",color:"#fff"}:d[t.id]&&{background:"#eceff0",border:"1px solid #ccc"},onClick:(n=a,e=>{e.preventDefault(),f({position:n,data:c.questions[n]})})},a+1);var n})))))),l)};var jn=Object(xe.a)(e=>({paper:{padding:e.spacing(3),borderLeft:"10px solid #4991e2"}})),Tn=Object(xe.a)(e=>({paper:{padding:e.spacing(1)}})),Pn=0,In=1,Nn=2;var Bn=e=>{let{examId:t}=e;const a=Tn(),{enqueueSnackbar:n}=Object(b.b)(),r=Object(I.h)(),[l,o]=Object(u.useState)(),[i,c]=Object(u.useState)(""),[s,d]=Object(u.useState)(!0),p=e=>{r.push("/contest/".concat(t,"/exam/test?token=").concat(e))};Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.getContest(t);if(e&&e.status){const{contest:t}=e.result;o(t),d(!1)}else n(e&&e.message||"Fetch data failed",{variant:"error"})})()},[]);const g=()=>m.a.createElement(J.a,null,m.a.createElement(J.a,{display:"flex",mt:2},l.isLock&&m.a.createElement(ze.a,{size:"small",id:"outlined-basic",label:"Nh\u1eadp code",variant:"outlined",value:i,onChange:e=>c(e.target.value)}),m.a.createElement(Ge.a,{style:{marginLeft:3},variant:"contained",color:"primary",size:"medium",onClick:()=>{l.isLock?(async()=>{try{const e=await Nt.contest.verifyPassword({id:t,password:i});if(e.status){const{contestToken:t}=e.result;p(t)}else n(e.message||"Check password failed",{variant:"error"})}catch(e){n("Check password failed",{variant:"error"})}})():p()}},"Thi")));return s?m.a.createElement($t,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(J.a,{className:a.paper},m.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0},"T\xean: ",l&&l.title),m.a.createElement(J.a,{display:"flex"},m.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0},"M\xf4 t\u1ea3: ",l&&l.description||"")),m.a.createElement(J.a,{display:"flex"},m.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0},"Th\u1eddi gian: ",l&&l.examTime,"(m)")),m.a.createElement(J.a,{display:"flex"},m.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0},m.a.createElement("p",null,m.a.createElement("strong",{class:""},"N\u1ed9i quy")),m.a.createElement("span",null,m.a.createElement("p",null,m.a.createElement("strong",{class:"text-danger",style:{color:"#dc3545"}},"- Kh\xf4ng nh\u1edd ng\u01b0\u1eddi kh\xe1c thi h\u1ed9. ",m.a.createElement("br",null),"- Kh\xf4ng sao ch\xe9p c\xe2u tr\u1ea3 l\u1eddi t\u1eeb t\xe0i li\u1ec7u tr\xean internet. ",m.a.createElement("br",null),"- Kh\xf4ng s\u1eed d\u1ee5ng thi\u1ebft b\u1ecb kh\xe1c . ",m.a.createElement("br",null)," - Kh\xf4ng d\xf9ng tab kh\xe1c \u0111\u1ec3 h\u1ed7 tr\u1ee3 b\xe0i thi . ",m.a.createElement("br",null)," - Kh\xf4ng tho\xe1t kh\u1ecfi m\xe0n h\xecnh trong qu\xe1 tr\xecnh l\xe0m b\xe0i thi.",m.a.createElement("br",null),"- Kh\xf4ng reload l\u1ea1i trang web hay t\u1eaft website khi \u0111ang l\xe0m b\xe0i thi.",m.a.createElement("br",null),"-N\u1ebfu vi ph\u1ea1m c\xe1c \u0111i\u1ec1u tr\xean, h\u1ec7 th\u1ed1ng t\u1ef1 \u0111\u1ed9ng n\u1ed9p b\xe0i v\xe0 ghi nh\u1eadn k\u1ebft qu\u1ea3 tr\u01b0\u1edbc \u0111\xf3"))))),(()=>{if(l){if(l.status===Pn)return m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"S\u1eafp di\u1ec5n ra"));if(l.status===In)return g();if(l.status===Nn)return m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"\u0110\xe3 k\u1ebft th\xfac"))}})()))},Dn=Object(xe.a)(e=>({actionBox:{display:"flex",justifyContent:"center",alignItems:"center"},row:{"&:hover":{backgroundColor:"#eee"},cursor:"pointer"},active:{background:"#f6a61f"}}));var Ln=e=>{let{examId:t,role:a,resultId:n}=e;const r=Dn(),l=Object(I.h)(),{enqueueSnackbar:o}=Object(b.b)(),[i,c]=Object(u.useState)([]),[s,d]=Object(u.useState)(!0),[p,g]=Object(u.useState)(0),[h,f]=Object(u.useState)({count:100,page:0,rowsPerPage:10}),v=()=>{const e=[];if(i.length>0){const t=i[0];for(let a=0;a<=t.amountQuestion;a+=1)e.push(0)}return console.log(e),[...e]},y=()=>{const e=v();return i.forEach(t=>{e[t.amountCorrectQuestion]++}),console.log({arr:e}),e};if(Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.getResultByContest(t);if(e&&e.status){const{result:t}=e,a=t.data.findIndex(e=>e.id===n);let r=0;a>=0&&(r=Math.floor(a/h.rowsPerPage)),c(t.data),f({...h,count:t.data.length,page:r}),d(!1)}else o(e&&e.message||"Fetch data failed",{variant:"error"})})()},[]),Object(u.useEffect)(()=>{s||E.a.chart({chart:{type:["column"],renderTo:"graph-summary-contest"},title:{text:"Th\u1ed1ng k\xea k\u1ebft qu\u1ea3"},xAxis:{title:{text:"S\u1ed1 c\xe2u \u0111\xfang"},categories:v().map((e,t)=>t)},yAxis:{title:{text:"S\u1ed1 ng\u01b0\u1eddi"}},legend:{layout:"horizontal",align:"center",verticalAlign:"top",borderWidth:0,itemDistance:30,margin:5,display:"none"},series:[{name:"S\u1ed1 ng\u01b0\u1eddi",data:y(),color:"#f6a61f"}]})},[s]),s)return m.a.createElement($t,null);return m.a.createElement(m.a.Fragment,null,m.a.createElement(J.a,null,m.a.createElement(ga.a,{component:Qe.a},m.a.createElement(ha.a,{className:r.table,"aria-label":"simple table"},m.a.createElement(Ea.a,null,m.a.createElement(ba.a,null,m.a.createElement(fa.a,{align:"center"},"No."),m.a.createElement(fa.a,null,"T\xean"),m.a.createElement(fa.a,{align:"center"},"S\u1ed1 c\xe2u \u0111\xfang"),m.a.createElement(fa.a,{align:"center"},"Th\u1eddi gian(m)"),m.a.createElement(fa.a,{align:"center"},"Ng\xe0y"),a&&m.a.createElement(fa.a,null))),m.a.createElement(va.a,null,i.slice(h.page*h.rowsPerPage,h.page*h.rowsPerPage+h.rowsPerPage).map((e,t)=>m.a.createElement(ba.a,{key:e.id,className:r.row,classes:{root:e.id===n&&r.active}},m.a.createElement(fa.a,{align:"center"},h.page*h.rowsPerPage+t+1),m.a.createElement(fa.a,null,m.a.createElement(J.a,{display:"flex",alignItems:"center",mb:1},m.a.createElement(Y.a,{alt:"avatar",src:e.participant.avatar,style:{height:"25px",width:"25px",marginRight:"3px"}}),e.participant.name),m.a.createElement(J.a,null,e.participant.email)),m.a.createElement(fa.a,{align:"center"},e.amountCorrectQuestion),m.a.createElement(fa.a,{align:"center"},Ra(e.doTime)),m.a.createElement(fa.a,{align:"center"},Gt()(e.createdAt).format("LLL")),a&&m.a.createElement(fa.a,{align:"center"},m.a.createElement(Ge.a,{variant:"outlined",color:"primary",onClick:()=>{return t=e.contest,a=e.id,void l.push("/contest/".concat(t,"/exam/resultDetail=").concat(a));var t,a}},"Chi ti\u1ebft")))))),i.length<=0&&m.a.createElement(V.a,{style:{width:"100%",padding:10,textAlign:"center",color:"#ccc"}},"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u")),i.length>h.rowsPerPage&&m.a.createElement(wa.a,{component:"div",rowsPerPageOptions:[h.rowsPerPage],count:h.count,page:h.page,onChangePage:(e,t)=>{f({...h,page:t})},rowsPerPage:h.rowsPerPage})),m.a.createElement(J.a,{mt:2},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Bi\u1ec1u \u0111\u1ed3"),m.a.createElement("div",{id:"graph-summary-contest"})))},Fn=Object(xe.a)(e=>({}));var An=e=>{let{examId:t}=e;const a=Fn(),{enqueueSnackbar:n}=Object(b.b)(),[r,l]=Object(u.useState)([]),[o,i]=Object(u.useState)({count:100,page:0,rowsPerPage:6});return Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.getResultByUserInContest(t);e&&e.status?(l(e.result.data),i({...o,count:e.result.data.length})):n(e&&e.message||"Fetch data failed",{variant:"error"})})()},[]),m.a.createElement(m.a.Fragment,null,m.a.createElement(ga.a,{component:Qe.a},m.a.createElement(ha.a,{className:a.table,"aria-label":"simple table"},m.a.createElement(Ea.a,null,m.a.createElement(ba.a,null,m.a.createElement(fa.a,{align:"center"},"L\u1ea7n"),m.a.createElement(fa.a,{align:"center"},"S\u1ed1 c\xe2u \u0111\xfang "),m.a.createElement(fa.a,{align:"center"},"Th\u1eddi gian(m)"),m.a.createElement(fa.a,{align:"center"},"Ng\xe0y"))),m.a.createElement(va.a,null,r.slice(o.page*o.rowsPerPage,o.page*o.rowsPerPage+o.rowsPerPage).map((e,t)=>m.a.createElement(ba.a,{key:e.id,className:a.row},m.a.createElement(fa.a,{align:"center"},t+1),m.a.createElement(fa.a,{align:"center"},e.amountCorrectQuestion),m.a.createElement(fa.a,{align:"center"},Ra(e.doTime)),m.a.createElement(fa.a,{align:"center"},Gt()(e.createdAt).format("DD/MM/YYYY h:mm:ss a")))))),r.length<=0&&m.a.createElement(V.a,{style:{width:"100%",padding:10,textAlign:"center",color:"#ccc"}},"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u")),r.length>o.rowsPerPage&&m.a.createElement(wa.a,{component:"div",rowsPerPageOptions:[o.rowsPerPage],count:o.count,page:o.page,onChangePage:(e,t)=>{i({...o,page:t})},rowsPerPage:o.rowsPerPage}))};var qn=()=>{const e=jn(),t=Object(g.d)(e=>e.auth.user),{id:a}=Object(I.j)(),n=new URLSearchParams(Object(I.i)().search),{enqueueSnackbar:r}=Object(b.b)(),[l,o]=Object(u.useState)();return Object(u.useEffect)(()=>{(async()=>{const e=await Nt.contest.checkAccountRole({contestId:a,userId:t.id});e&&e.status?o(e.result.role):e&&404!==e.code&&r(e.status||"Fetch data failed",{variant:"error"})})()},[]),m.a.createElement(m.a.Fragment,null,m.a.createElement(Ne.a,{container:!0,spacing:1},l&&m.a.createElement(m.a.Fragment,null,m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(Qe.a,{className:e.paper},m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Th\xf4ng tin b\xe0i thi"),m.a.createElement(ee.a,{style:{marginBottom:20}}),m.a.createElement(Bn,{examId:a})))),m.a.createElement(Ne.a,{item:!0,xs:12,md:6},m.a.createElement(Qe.a,{className:e.paper,style:{borderLeft:"10px solid #f16a73"}},m.a.createElement(J.a,{style:{minHeight:"230px"}},m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"L\u1ecbch s\u1eed l\xe0m b\xe0i"),m.a.createElement(ee.a,{style:{marginBottom:20}}),m.a.createElement(An,{examId:a}))))),m.a.createElement(Ne.a,{item:!0,xs:12},m.a.createElement(Qe.a,{className:e.paper,style:{borderLeft:"10px solid #48bb78"}},m.a.createElement(J.a,null,m.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"B\u1ea3ng x\u1ebfp h\u1ea1ng"),m.a.createElement(ee.a,{style:{marginBottom:20}}),m.a.createElement(Ln,{examId:a,role:l,resultId:n.get("resultId")}))))))};var Rn=a(235),Un=a.n(Rn),_n=a(236),Qn=a.n(_n);var zn=e=>e.replace(/\{(.*?)\}/g,(e,t)=>_e(t)?'<img src="'.concat(t,'" alt="H\xecnh \u1ea3nh test" style="width: auto; height: 350px;"  />'):t);var Gn=()=>{const e=wn(),{id:t,idresultDetail:a}=Object(I.j)(),[n,r]=Object(u.useState)(t),[l,o]=Object(u.useState)(a),i=Object(I.h)(),[c,s]=(new URLSearchParams(Object(I.i)().search),Object(u.useState)([])),[d,p]=Object(u.useState)([]),[g,h]=Object(u.useState)([]),[E,b]=Object(u.useState)([]),[f,v]=Object(u.useState)(),[y,w]=Object(u.useState)([]),[x,k]=Object(u.useState)(),[O,C]=Object(u.useState)(!0),[S,j]=Object(u.useState)({}),[T,P]=Object(u.useState)(!1);je.a.get("user");return Object(u.useEffect)(()=>{n&&(async()=>{try{const e=await Nt.contest.getResultByContest(n);if(e&&e.status){const t=e.result.data.filter(e=>e.id==l),a=t[0].history.filter(e=>{for(let t=0;t<e.question.answers.length;t++)e.question.answers[t].answerId==e.choice&&c.push(e.question.answers[t].content),e.question.answers[t].isCorrect&&d.push(e.question.answers[t].content)});console.log(d),console.log(c),console.log(a),console.log(t[0].history),h(t[0]),k(t[0].participant),b(t[0].history),C(!1)}else i.push("/contest/".concat(t,"/exam/detail"))}catch(e){console.log(e)}})()},[n]),m.a.createElement("div",null,m.a.createElement("p",null),m.a.createElement(J.a,null,m.a.createElement(Ne.a,{container:!0,spacing:1},m.a.createElement(Ne.a,{item:!0,xs:12,md:4},x&&m.a.createElement(Qe.a,{className:e.questionBox},m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"Th\xf4ng tin k\u1ebft qu\u1ea3 b\xe0i thi")),m.a.createElement(J.a,{className:e.listInfo},m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"H\u1ecd t\xean: ",x.name," ")),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"S\u1ed1 \u0110T: ",x.phoneNumber)),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"Email: ",x.email)),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"B\xe0i thi trong: ",g.doTime," (ph\xfat)")),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"S\u1ed1 c\xe2u h\u1ecfi c\u1ee7a \u0111\u1ec1: ",g.amountQuestion," (C\xe2u)")),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"S\u1ed1 c\xe2u \u0111\xfang: ",g.amountCorrectQuestion," (C\xe2u)")),m.a.createElement(J.a,{mb:.5},m.a.createElement(V.a,null,"Ch\u1ea5m \u0111i\u1ec3m :",m.a.createElement("strong",{style:{color:"red",fontSize:"x-large"}},(10*parseInt(g.amountCorrectQuestion)/parseInt(g.amountQuestion)).toFixed(2)," "),"(\u0110i\u1ec3m)"))))),m.a.createElement(Ne.a,{item:!0,xs:12,md:8},m.a.createElement(Qe.a,{className:e.paper},c&&E.map((e,t)=>m.a.createElement(J.a,{key:t,p:.5,m:2},m.a.createElement(V.a,{gutterBottom:!0,style:{textAlign:"left"}},m.a.createElement("strong",null,"C\xe2u s\u1ed1 ",t+1,": "),e.isCorrect?m.a.createElement("span",null,m.a.createElement(Un.a,{style:{color:"green",marginBottom:"-5px"}}),m.a.createElement("span",{style:{color:"green"}},m.a.createElement("strong",null,"\u0110\xfang")," --")):m.a.createElement("span",null,m.a.createElement(Qn.a,{style:{color:"red",marginBottom:"-5px"}}),m.a.createElement("span",{style:{color:"red"}},m.a.createElement("strong",null,"Sai")," --"))," ",m.a.createElement("span",null,"M\u1ee9c \u0111\u1ed9: [","HARD"==e.question.level?"KH\xd3":"MEDIUM"==e.question.level?"TRUNG B\xccNH":"D\u1ec4","]")),m.a.createElement(V.a,{gutterBottom:!0,style:{color:"#ccc"}},"Ti\xeau \u0111\u1ec1: ",e.question.title),m.a.createElement("span",{variant:"h6",gutterBottom:!0},e.question&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:zn(e.question.description)},style:{padding:"5px",margin:"20px",border:"2px solid #ccc",borderRadius:"5px"}})),m.a.createElement("span",{variant:"h6",gutterBottom:!0,style:{color:"rgb(0 0 0 / 50%)"}},m.a.createElement("span",{style:{textDecoration:"underline",color:"blue"}},"\u0110\xe1p \xe1n \u0111\xe3 ch\u1ecdn:"),c[t]&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:zn(c[t])}})),m.a.createElement("span",{variant:"h6",gutterBottom:!0,style:{color:"rgb(0 0 0 / 50%)"}},m.a.createElement("span",{style:{textDecoration:"underline",color:"green"}},"\u0110\xe1p \xe1n \u0111\xfang:"),d[t]&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:zn(d[t])}})),m.a.createElement(V.a,{gutterBottom:!0},m.a.createElement("strong",null,"Gi\u1ea3i th\xedch \u0111\xe1p \xe1n:")," "),m.a.createElement("span",{variant:"h6",gutterBottom:!0,style:{color:"rgb(0 0 0 / 50%)"}},e.question.explain&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:zn(e.question.explain)}})))))))))};var Wn=[{path:D,component:function(){return m.a.createElement(Ft,null)},restricted:!0,isPrivate:!1},{path:L,component:function(){return m.a.createElement(qt,null)},restricted:!0,isPrivate:!1},{path:B,component:function(){return m.a.createElement(aa,null)},restricted:!1,isPrivate:!0},{path:F,component:function(){return m.a.createElement(ua,null)},restricted:!1,isPrivate:!0},{path:q,component:function(){return m.a.createElement(Wa,null)},restricted:!1,isPrivate:!0},{path:A,component:function(){return m.a.createElement($a,null)},restricted:!1,isPrivate:!0},{path:R,component:function(){return m.a.createElement(En,null)},restricted:!1,isPrivate:!0},{path:U,component:function(){return m.a.createElement(Sn,null)},restricted:!1,isPrivate:!0},{path:_,component:function(){return m.a.createElement(qn,null)},exact:!0,restricted:!1,isPrivate:!0},{path:Q,component:function(){return m.a.createElement(Gn,null)},restricted:!1,isPrivate:!0}],Mn=()=>{const e=Object(g.c)(),{accessToken:t,verifying:a}=Object(g.d)(e=>e.auth),[n,r]=Object(u.useState)(!0);return Object(u.useEffect)(()=>{if(!t){const t=Ce("accessToken");t&&e(we.auth.verifyToken(t))}r(!1)},[]),n||a?m.a.createElement(N.a,null):m.a.createElement(P.a,{basename:"/",historyApiFallback:!0},m.a.createElement(I.e,null,Wn.map(e=>{let{path:t,exact:a=!0,component:n,isPrivate:r=!1,...l}=e;return r?m.a.createElement(Ie,Object.assign({key:t,exact:a,path:t,Component:n},l)):m.a.createElement(z,Object.assign({key:t,exact:a,path:t,Component:n},l))}),m.a.createElement(I.b,{to:B})))},Hn=a(57),Kn=a(239);const Yn={accessToken:null,isLoggingIn:!1,verifying:!1,loginCode:null,status:null,message:null,user:null};const Vn={auth:Yn};var Jn=Object(Hn.c)({auth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.LOGIN:return{...e,isLoggingIn:!0};case de.LOGIN_SUCCESS:{const{accessToken:a,user:n}=t;return{...e,isLoggingIn:!1,status:1,accessToken:a,user:n}}case de.LOGIN_FAILURE:{const{code:a,message:n}=t;return{...e,loginCode:a,message:n,status:0,isLoggingIn:!1}}case de.VERIFY_TOKEN:return{...e,verifying:!0};case de.VERIFY_TOKEN_SUCCESS:{const{accessToken:a,user:n}=t;return{...e,verifying:!1,accessToken:a,user:n,status:1}}case de.VERIFY_TOKEN_FAILURE:return{...e,verifying:!1,status:0,user:null,accessToken:null};case de.LOGOUT:return{...e,status:0,accessToken:null,user:null};case de.UPDATE_USER:{const{user:a}=t;return{...e,user:a}}default:return e}}}),Xn=a(61);function*Zn(e){console.log(e);try{const t=6048e5;let a=null;switch(e&&e.loginType){case qe:const{tokenId:t}=e;a=yield Nt.auth.loginByGoogle(t);break;case Re:const{accessToken:n,userID:r}=e;a=yield Nt.auth.loginByFacebook({accessToken:n,userID:r});break;default:const{email:l,password:o}=e;a=yield Nt.auth.login(l,o)}if(a.status){const{accessToken:e,user:n}=a.result;Oe("accessToken",e,t),Oe("user",JSON.stringify(n),t),yield Object(Xn.b)(we.auth.loginSuccess(e,n))}else{const{code:e,message:t}=a;yield Object(Xn.b)(we.auth.loginFailure(e,t))}}catch(t){yield Object(Xn.b)(we.auth.loginFailure())}}function $n(e){let{accessToken:t}=e;return function*(){try{const e=yield Nt.auth.verify(t);if(!e.status)throw new Error;const{user:a}=e.result;a?yield Object(Xn.b)(we.auth.verifyTokenSuccess(t,a)):yield Object(Xn.b)(we.auth.verifyTokenFailure())}catch(e){yield Object(Xn.b)(we.auth.verifyTokenFailure())}}()}function*er(){yield Object(Xn.a)([Object(Xn.d)(we.auth.actionTypes.LOGIN,Zn),Object(Xn.c)(we.auth.actionTypes.VERIFY_TOKEN,$n)])}var tr=function*(){yield Object(Xn.a)([er()])};const ar=Object(Kn.a)(),nr=e=>Object(Hn.a)(...e);var rr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;const t=Object(Hn.e)(Jn,e,nr([ar]));return t.runSagaTask=()=>{t.sagaTask=ar.run(tr)},t.runSagaTask(),t};a(436);window.Highcharts=E.a,p.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(Dt.a,{clientId:"108546913060-gdier6c25mddr862bvqg57b60cil467h.apps.googleusercontent.com"},m.a.createElement(f.a,{theme:k},m.a.createElement(g.a,{store:rr()},m.a.createElement(b.a,null,m.a.createElement(Mn,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[263,1,2]]]);
//# sourceMappingURL=main.37c0d94c.chunk.js.map